<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<head profile="http://gmpg.org/xfn/11">

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <meta name="viewport" content="width=960" id="meta-viewport">
    <script>
    if (screen.width < 768) {
        document.getElementById('meta-viewport').setAttribute('content', 'width=768');
    }
    </script>


	
	<title>
		     2010  August Archive - YUI Blog - page 2	</title>

	<link rel="shortcut icon" href="/yuiblog/favicon.ico" type="image/x-icon" />

	<!-- IMPORT: yuilibrary.com -->
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic">
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.5.1/build/cssgrids/cssgrids-min.css">
	<link rel="stylesheet" type="text/css" href="http://yuilibrary.com/combo/main-min.css">
	<link ref="stylesheet" type="text/css" href="http://yuilibrary.com/vendor/prettify/prettify-min.css">
	<link ref="stylesheet" type="text/css" href="http://yuilibrary.com/css/docs-min.css">
	<!-- /IMPORT -->


	<link rel="stylesheet" href="/yuiblog/blog/wp-content/themes/yuilibraryv2/style.css" type="text/css" />

	<link rel="pingback" href="/yuiblog/blog/xmlrpc.php" />

	
        <script>var YUI_config={"filter":"min","maxURLLength":1024,"groups":{"site":{"combine":true,"comboBase":"/combo/js?","root":"","modules":{"hoverable":{"path":"hoverable-min.js","requires":["event-hover","node-base","node-event-delegate"]},"search":{"path":"search-min.js","requires":["autocomplete","autocomplete-highlighters","node-pluginhost"]},"api-filter":{"path":"apidocs/api-filter-min.js","requires":["autocomplete-base","autocomplete-highlighters","autocomplete-sources"]},"api-list":{"path":"apidocs/api-list-min.js","requires":["api-filter","api-search","event-key","node-focusmanager","tabview"]},"api-search":{"path":"apidocs/api-search-min.js","requires":["autocomplete-base","autocomplete-highlighters","autocomplete-sources","escape"]}}}}};</script>

        <script src="http://yui.yahooapis.com/3.5.1/build/yui/yui-min.js"></script>

	<link rel="alternate" type="application/rss+xml" title="YUI Blog &raquo; Feed" href="/yuiblog/blog/feed/" />
<link rel="alternate" type="application/rss+xml" title="YUI Blog &raquo; Comments Feed" href="/yuiblog/blog/comments/feed/" />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js?ver=3.4.1'></script>

    <!-- GOOGLE ANALYTICS SCRIPT.
        When changing themes, be sure to copy/paste this script from this theme to the new theme.
    -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-34018865-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

</head>

<body class="archive date paged paged-2 date-paged-2 yui3-skin-sam">

	<div id="doc">
	      <div id="hd" class="yui3-g">
			<header>
	     <div class="content">
	     <div class="yui3-u-3-4">
               <a href="//yuilibrary.com/" rel="home"><div id="hd-logo" role="image" aria-label="YUI logo"></div></a>
             </div>
	     <div class="yui3-u-1-4">
		    	<div id="topsearch" style="position: relative; left: -40px; top: 35px;">
<form action="/yuiblog/blog" id="main-search" class="search" method="get">
        <input type="search" class="search-input" style="width: 200px; font-size:10px;" placeholder="Search the blog" id="s" name="s" value="" />
</form>
</div>	     </div>

	     <div id="main-nav" class="yui3-u"><nav>
              <ul class="nav hoverable-group">

            <li class="nav-tab hoverable  nav-tab-active">
                <a href="http://yuilibrary.com">Home</a>

            </li>

            <li class="nav-tab hoverable ">
                <a href="http://yuilibrary.com/yui/quick-start/">Quick Start</a>

                    <ul class="nav-submenu">

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/yui/configurator/">Configurator</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/download/yui3/">Download YUI 3</a>

                            </li>

                    </ul>

            </li>

            <li class="nav-tab hoverable ">
                <a href="http://yuilibrary.com/yui/docs/">Documentation</a>

                    <ul class="nav-submenu">

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/yui/docs/guides/">User Guides</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/yui/docs/examples/">Examples</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/yui/docs/tutorials/">Tutorials</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/yui/docs/api/">API Docs</a>

                            </li>

                    </ul>

            </li>

            <li class="nav-tab hoverable nav-break">
                <a href="http://yuilibrary.com/community/">Community</a>

                    <ul class="nav-submenu">

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/gallery/">Gallery</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="/yuiblog/" title="YUI Blog">Blog</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/forum/">Forums</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/theater/">YUI Theater</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/yui3/calendar/">Calendar</a>

                            </li>

                    </ul>

            </li>

            <li class="nav-tab hoverable ">
                <a href="http://yuilibrary.com/contribute/">Contribute</a>

                    <ul class="nav-submenu">

                            <li class="nav-child ">

                                    <a href="https://github.com/yui/" target="_blank" title="External link">YUI on GitHub &#187;</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/yui3/newticket/">File a Ticket</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/yui3/report/">View Tickets</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/yui3/dashboard/">Dashboard</a>

                            </li>

                    </ul>

            </li>

            <li class="nav-tab hoverable ">
                <a href="http://yuilibrary.com/projects/">Other Projects</a>

                    <ul class="nav-submenu">

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/yui2/">YUI 2</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/yuicompressor/">YUI Compressor</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yui.github.com/yuidoc" target="_blank" title="External link">YUI Doc &#187;</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/builder/">YUI Builder</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/phploader/">YUI PHP Loader</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/yuitest/">YUI Test</a>

                            </li>

                            <li class="nav-child ">

                                    <a href="http://yuilibrary.com/projects/yuilibrary/">YUI Website</a>

                            </li>

                    </ul>

            </li>

    </ul>
			</nav>
                         </div>
			 </div>
			</header>
		</div>
		<div id="bd" class="clearfix yui3-g">
<div class="yui3-u-3-4 print-max-width">
<div id="docs-main" class="content">

		

		
 			
							<h1>Blog: Archive for August, 2010</h1>

			
							<div class="navigation yui3-g">
	<div class="next-posts yui3-u"><a href="/yuiblog/blog/2010/08/page/3/" >&laquo; Older Entries</a></div>
            <span class="greyed nav-separator">|</span> 
    	<div class="prev-posts yui3-u-1-2">
        <a href="/yuiblog/blog/2010/08/" >Newer Entries &raquo;</a>    </div>
</div>			
									
								<div class="post-2446 post type-post status-publish format-standard hentry category-development first-post">
				
						<h2 id="post-2446"><a href="/yuiblog/blog/2010/08/17/ask-satyam-row-expansion/">Ask Satyam: Row Expansion and Nested DataTables</a></h2>
					

						<div class="entry">
							<blockquote>
<p><a href="https://www.packtpub.com/yahoo-user-interface-yui-2-8-learning-library/book"><img align="right" src="/yuiblog/blog-archive/assets/satyam-book-small-20100809-120823.jpg" width="106" height="132" hspace=20></a>Satyam (a.k.a Daniel Barreiro) is a long-time YUI contributor and one of the most prolific, generous experts in the <a href="http://yuilibrary.com/forum/" title="YUI Library :: Forums :: Index page">YUI forums</a>.  He is also <a href="https://www.packtpub.com/yahoo-user-interface-yui-2-8-learning-library/book">the author of a new book on YUI 2.8.0, <em>YUI 2.8.0: Learning the Library</em></a>. This article in the &#8220;Ask Satyam&#8221; series <a href="/yuiblog/blog/2010/07/29/ask-satyam/#comment-593036" title="Ask Satyam — and Be Eligible for a Free Copy of the New YUI 2.8 Book from Packt &raquo; Yahoo! User Interface Blog (YUIBlog)">was suggested by Alberto Santini</a> and <a href="/yuiblog/blog/2010/07/29/ask-satyam/#comment-593069">Bryan Kane</a>.  Satyam will be answering several additional questions in the coming weeks here on YUIBlog as part of the series.</p>
</blockquote>
<p><P>It&#8217;s a common problem in information architecture: You have tabular data, and you have the need to display additional information about the entity represented by each table row. Usually, this is accomplished by &#8220;expanding&#8221; the row on click or selection and showing the data directly below the chosen row. Sometimes this additional data comes in the way of a further DataTable which might also have its rows expandable into more nested levels. We call the basic use case of drilling down into a single row <em>row expansion</em>; when the use case involves further tabular data associated with each row, the feature is described as a <em>nested DataTable.</em></p>
<p>So far there have been several serious attempts to support these features with the <a href="http://developer.yahoo.com/yui/datatable/" title="YUI 2: DataTable">YUI 2 DataTable</a>. DataTable&#8217;s own list of examples includes a <A HREF="http://developer.yahoo.com/yui/examples/datatable/dt_rowexp_basic.html">Row Expansion</A> example by Eric Gelinas. John Lindal presented his <A HREF="http://jafl.github.com/yui2/treeble/">Treeble</A> in a <A HREF="/yuiblog/blog/2010/04/14/treeble-using-nested-yui-2-datasources-for-row-expansion/">YUI Blog article</A> some time ago with a <A HREF="http://yuilibrary.com/gallery/show/treeble">version for YUI 3</A> in the Gallery. I also tried with my <A HREF="http://www.satyam.com.ar/yui/#NestedDataTables">NestedDataTable</A> project.</P></p>
<p><P>None of these solutions is completely satisfactory and the question tends to recur; in fact, two people asked for it as part of the <A HREF="/yuiblog/blog/2010/07/29/ask-satyam/">Ask Satyam</A> series.  In this article, I&#8217;ll dive in again and explore strategies and options for dealing with row expansion and nested DataTables.</p>
<p><H3>A few issues to consider</H3></p>
<p><P>DataTable makes a couple of very basic assumptions. One is that the ordinal position of a Record corresponds to the same ordinal position of a row within the <CODE>&lt;tbody&gt;</CODE> of the markup. I count 17 occurrences of property <CODE>sectionRowIndex</CODE> which returns the ordinal number of a <CODE>&lt;tr&gt;</CODE> element within its section (that is, within the <CODE>&lt;tbody&gt;</CODE>, <CODE>&lt;thead&gt;</CODE> or <CODE>&lt;tfoot&gt;</CODE> where it is contained). There are also many occurrences where the ordinal position of the Record is used as an index into the array of rows. For example, in the <A HREF="http://developer.yahoo.com/yui/examples/datatable/dt_rowexp_basic_clean.html">Row Expansion</A> example, let it run to the end, expand any row about half-way to the table and then execute the following two statements in the debugging console:</P></p>
<p><PRE>YAHOO.example.Basic.oDT.getTrEl(YAHOO.example.Basic.oDT.getRecord(17)).id<br />
YAHOO.example.Basic.oDT.get<B>Next</B>TrEl(YAHOO.example.Basic.oDT.getRecord(17)).id </PRE></p>
<p><P> Both will show <CODE>yui-rec17</CODE> as the answer, which is not correct since the second statement should return the id of the next row. If you do the same with no rows expanded or using a low number, before the expanded row, the second statement will correctly return <CODE>yui-rec18</CODE>.</P></p>
<p><P>Obviously, all examples listed work in their basic form; the &#8220;bug&#8221; demonstrated above amounts to a trick. If your application stays within safe boundaries, you are fine.  However, a feature added to your application at a later time, one that makes deeper assumptions about how the DataTable&#8217;s internals are operating, may lead to some problems. (For what it&#8217;s worth, DataTable is very robust. Its built-in functionality is pretty safe, it sorts columns, edits cells, selects and highlights fine, as far as I tested it. I wasn&#8217;t able to break its most popular built-in features.)</P></p>
<p><P>Nesting structures within the DataTable also invites some other complications: Clicking somewhere in an expanded custom row might be troublesome, since the click on the nested element would bubble up to the containing DataTable where it can mess things up. You must remember this point when listening to events such as <CODE>cellClickEvent</CODE> on the parent table since the target cell reported might not belong to the parent table but to a nested one — so fetching the Record or Column for that cell may fail.</P></p>
<p><P>Finally, there are some conceptual issues. What does <CODE>getNextTrEl</CODE> mean? Does it include only DataTable&#8217;s own rows (let&#8217;s call them <em>data rows</em>), or should it include custom rows added later, as it does now? I would say it should only include data rows since the custom rows, being nested, are not siblings to the data rows but children and, though the HTML markup forces us to use plain <CODE>&lt;TR&gt;</CODE> elements, conceptually, they are not siblings. Then, if you somehow reach a <CODE>&lt;TR&gt;</CODE> element and ask for its corresponding Record in the containing DataTable using method <CODE>getRecord()</CODE>, if that <CODE>&lt;TR&gt;</CODE> is a custom row, what would be its corresponding Record: <CODE>null</CODE> (since it doesn&#8217;t belong to the containing DataTable but to the nested one) or the Record of the data row it is a child of? </P></p>
<p><P>How do you want the stripes on the rows? Currently, the striping logic takes even and odd rows indiscriminately, whether data rows or custom rows but perhaps you would like the custom rows to carry on the same background color as the data row to which they belong.</P></p>
<p><P>These are some of the aspects of row-expansion functionality that require definition; any decision on them, as long as it is consistent and predictable, would likely accommodate most use cases.</P></p>
<p><H3>Nesting without DataTable</H3></p>
<p><P><a href="http://jafl.github.com/yui3-gallery/treeble/"><img align="right" src="/yuiblog/blog-archive/assets/treebleexample-20100817-095427.jpg" hspace=20 vspace=5></a>Of course, we might live with these restrictions, but then what is the point of bothering with the DataTable at all? If all you want is to display some nested information in a tabular form, you could simply use a regular <CODE>&lt;table&gt;</CODE> element or something like it. In fact, <a href="http://yuilibrary.com/gallery/show/treeble" title="YUI Library :: Gallery :: Treeble">the YUI 3 version of Treeble</a> (<a href="http://jafl.github.com/yui3-gallery/treeble/" title="YUI 3 Treeble Example">example</a>) does exactly that; since there is not yet a YUI 3 version of DataTable to be used, it uses none at all. You might as well do the very same thing with YUI 2, like in <A HREF="http://satyam.com.ar/yui/2.8.0/RowExpansionPlainHTML.html">this example</A>, where no DataTable nor HTML <CODE>&lt;table&gt;</CODE> was used at all. Admittedly, the example is very simple and visually ugly (I&#8217;ve never claimed to be artistic); but, if that is all you care for, at least you know it won&#8217;t fail you. Just an idea you might want to evaluate when you decide on what to do.</P></p>
<p><H3>Row Expansion with DataTable</H3></p>
<p><P><a href="http://developer.yahoo.com/yui/examples/datatable/dt_rowexp_basic.html"><img align="right" src="/yuiblog/blog-archive/assets/rowexpansion-20100817-100641.jpg" hspace=20 vspace=5></a>Finally, you might really want to use a DataTable.  If so, how do we go about that? Both Treeble and my own <A HREF="http://satyam.com.ar/yui/2.8.0/nested1.html">NestedDataTable</A> nest two DataTables. Eric Gelinas, in contrast, has used another approach, which I find more flexible. He does not make any assumptions on what is going to be in the expansion. It uses a <CODE>rowExpansionTemplate</CODE> configuration attribute that can take either a string template or a reference to a function. The string template is processed via <CODE><a href="http://developer.yahoo.com/yui/docs/YAHOO.lang.html#method_substitute" title="API: yahoo  YAHOO.lang   (YUI Library)">YAHOO.lang.substitute</a></CODE> along with the data from the Record object for the row about to be expanded. We already know that we don&#8217;t need to define in the column definitions array all the fields we have read with the DataSource; we can keep extra DataSource fields in reserve for later use. The template mechanism lets us display in the expansion row those other fields for which we didn&#8217;t have space in the regular row. The <A HREF="http://developer.yahoo.com/yui/examples/datatable/dt_rowexp_basic.html">example</A> lists picture names from Flickr, images which might be too big to show in the main DataTable. The fields to assemble the URL pointing to those pictures are loaded from the start. Upon row expansion, those bits are put together to built an <CODE>&lt;img&gt;</CODE> tag and the thumbnail for the picture is shown in the expansion row.</P></p>
<p><P>Now, if we set <CODE>rowExpansionTemplate</CODE> to a function reference, then we get all the flexibility we might possibly want. I used that idea in <A HREF="http://satyam.com.ar/yui/2.8.0/nestedRowExpansion.html">this example</A>, but with a somewhat different <A HREF="http://www.satyam.com.ar/yui/2.8.0/rowexpansion.js">rowexpansion.js</A> file. The original was more focused on using the string template and it assumed that the expansion row could be destroyed and rebuilt at any time at no cost. That is not the case when the expansion is something more complex, such as a DataTable with further DataTables nested within. Every time a column is sorted, DataTable will delete all rows and start anew, which would be tremendously expensive with complex content if it was to be deleted and reconstructed as well. Instead, what I do is to keep a reference to the expansion row in the expansion state object (see description in method <CODE><A HREF="http://www.satyam.com.ar/yui/2.8.0/rowExpansionDocs/YAHOO.widget.RowExpansionDataTable.html#method_getExpansionState">getExpansionState</A></CODE>), which is stored in the Record of the parent table.  This data is not deleted, and as a result it&#8217;s much more efficient to restore that same row whenever the parent row is re-rendered. </P></p>
<p><a href="http://satyam.com.ar/yui/2.8.0/nestedRowExpansion.html" title="Nested DataTables using RowExpansionDataTable"><img src="/yuiblog/blog-archive/assets/nesteddatatables-20100817-101227.jpg"></a></p>
<p><P>Sometimes, however, the parent rows will be deleted on purpose or the parent DataTable reloaded from the server with, possibly, different data which requires the children to be refreshed. I need to explicitly delete the child rows in such cases because otherwise they would remain in memory as zombies. Thus, I override several methods (<CODE>deleteRow</CODE>, <CODE>deleteRows</CODE>, <CODE>initializeTable</CODE>, <CODE>destroy</CODE>) and delete the nested content before its parent Record is deleted. Deleting, however, is not enough, since the content might need some more elaborate means of disposal. As with many complex components, DataTable has a <CODE>destroy</CODE> method which needs to be called to fully clear the instance and its associated events. I added the <CODE>rowExpansionDestroyEvent</CODE> event to signal that the nested row is about to be destroyed, thus allowing the developer to handle the content as required. For example:</P></p>
<p><PRE>albumDT.on(&#8216;rowExpansionDestroyEvent&#8217;, function (state) {<br />
    state[NESTED_DT].destroy();<br />
});</PRE></p>
<p><P>All events receive the <CODE>state</CODE> object as their single argument. Here, I use the reference to the nested DataTable which I stored under a property name of my own (<CODE>NESTED_DT</CODE>) and call its <CODE>destroy</CODE> method.</P></p>
<p><P>RowExpansionDataTable adds the column that triggers row expansion automatically and also listens to clicks on that column. You don&#8217;t need to do anything for that column to show up and be active. It always adds it on the left hand side by using this simple code in the constructor:</P></p>
<p><PRE>var REDT = function(elContainer,aColumnDefs,oDataSource,oConfigs) {</p>
<p>     aColumnDefs.unshift({<br />
          key:ROW_EXPANSION,<br />
          label:&#8221;,<br />
          className:CLASS_TRIGGER<br />
     });<br />
     REDT.superclass.constructor.call(this, elContainer,aColumnDefs,oDataSource,oConfigs);<br />
};</p>
<p>YAHOO.widget.RowExpansionDataTable = REDT;</PRE></p>
<p><P> RowExpansionDataTable also sets a listener for <CODE>cellClickEvent</CODE> and checks if the column clicked is the one with its key set to the value stored in constant <CODE>ROW_EXPANSION</CODE>; there is no need for us to respond to that event, although we may want to set up further listeners for our own purposes on other columns.</P> </p>
<p><P>Though the basis of my <A HREF="http://www.satyam.com.ar/yui/2.8.0/rowexpansion.js">rowexpansion.js</A> file is Eric Gelinas&#8217;s work, there are also many differences. I changed many of the variable, method and property names to conform to the standard naming conventions and fixed plenty of errors flagged by <A HREF="http://www.jslint.com/">JSLint</A>. In its basics, however, the code is still Eric&#8217;s.</P></p>
<p><P>The <A HREF="http://satyam.com.ar/yui/2.8.0/nestedRowExpansion.html">example</A> is well commented and described after the sample table; the <A HREF="http://www.satyam.com.ar/yui/2.8.0/rowexpansion.js">rowexpansion.js</A> file is easy to follow and its <A HREF="http://satyam.com.ar/yui/2.8.0/rowExpansionDocs/YAHOO.widget.RowExpansionDataTable.html">API Docs</A> are also available.</P></p>
<p><H3>Overlaying children</H3></p>
<p><P>Another alternative to adding rows is to make the expansion float above the parent row. I have used this in my own <A HREF="http://satyam.com.ar/yui/2.8.0/nested1.html">NestedDataTable example</A>. This example also uses YQL tables via YQLDataSource and, as I mentioned in the <A HREF="/yuiblog/blog/2010/08/09/ask-satyam-yql-and-yui/">previous article</A>, the YQL Artists search table is somewhat clumsy to use along with <a href="http://developer.yahoo.com/yui/autocomplete/" title="YUI 2: AutoComplete">YUI 2 AutoComplete</a> as it won&#8217;t bring back partial matches with artist names.</P></p>
<p><a href="http://satyam.com.ar/yui/2.8.0/nested1.html" title="Nested DataTables"><img src="/yuiblog/blog-archive/assets/nesteddatatables-20100817-104246.jpg"></a></P></p>
<p><P>Here, when you expand a row, a container <CODE>&lt;div&gt;</CODE> is created and appended to the document body. The container uses absolute positioning and is moved to overlap the row right below the one being expanded. The container thus covers the rows next to the one being expanded so, the height of this row is increased to make space for the overlapping container. </P></p>
<p><P>This mechanism spares us from the two issues I mentioned before: no row is added to the DataTable, the ordinal positions of Records and Rows match at all times and events can&#8217;t bubble from the containers to the DataTable since they are not descendants of the DataTable. However, maintaining the position of the containers requires paying attention to several events and recalculating their position. Sorting the main table with several children open will move all the containers to their new positions with ease, and so will resizing the browser window. </P></p>
<p><P>This <A HREF="http://satyam.com.ar/yui/2.8.0/nested1.html">example</A> uses just two levels of nesting while the RowExpansionDataTable example could be expanded to any limit. I have tried to combine the two and I see no theoretical reason why it would not succeed; however, in trying to do so I found the example got so complex that it was hard to describe in a blog article of any reasonable size. The example, as it is, has complete control over the parent and child tables, knows when they expand or contract, move, get redrawn or change in any other way, and can easily access any of them and adjust their layout. In trying to extend this to any number of levels, I found that communicating all those changes up and down the hierarchy of nested components, not all of them necessarily DataTables, was hard, with changes deep in one branch possibly affecting nested components on other branches. </P></p>
<p><P>The complexity lies not so much in communicating those changes up and down and acting on them as in trying to provide standard interfaces for generic child elements to participate. If you have full control over the several containers and their content, it should be manageable; however, it would only make sense to do so if the RowExpansionDataTable fails in some particular application, as I admit it may, and cannot be fixed easily.</P></p>
<p><H3>Conclusion</H3></p>
<p><P>You don&#8217;t always need real DataTables to have tables nested inside each other, but if you do, my RowExpansionDataTable is a good choice, besides being a good example on how to extend DataTable. It has some issues, which I described so that if you bump into them, you know where to look as you work around them. DataTable itself is amazingly robust and handles itself quite nicely. Overlapping content in the DataTable is also a possible solution, if signaling the changes in size and position of the children can be solved efficiently, though it is hard to do in a generic component — and I didn&#8217;t try to do so here. Neither did I try a version inheriting from ScrollingDataTable; it is not that I forgot, but rather that I know it is not a trivial undertaking.</P></p>
						</div>

						<div class="meta">
    <img src="http://www.gravatar.com/avatar/83f0dfaa266dff4c90e90b451e988ccd?s=32"> <div class="cont"><a href="http://www.satyam.com.ar/" class="name">By Satyam</a><span class="date">August 17th, 2010<span></div></div>
				</div>
										
								<div class="post-2425 post type-post status-publish format-standard hentry category-accessibility category-development category-yui-theater tag-accessibility tag-bayjax tag-nicholas-zakas tag-victor-tsaran tag-yahoo tag-yui-theater">
				
						<h2 id="post-2425"><a href="/yuiblog/blog/2010/08/16/video-zakas-tsaran/">YUI Theater &mdash; Nicholas Zakas and Victor Tsaran: &#8220;Accessibility on the Yahoo Homepage (58 min.)&#8221;</a></h2>
					

						<div class="entry">
							<p><a href="http://developer.yahoo.com/yui/theater/video.php?v=zakas-tsaran"><img src="/yuiblog/blog-archive/assets/zakas-tsaran-blog-june-10.jpg" alt="Nicholas Zakas and Victor Tsaran's Talk at the BayJax event at Yahoo! in June, 2010." width="510"></a></p>
<p>In June, Yahoo! hosted a <a href="www.meetup.com/BayJax/" target="_blank">BayJax</a> meetup dedicated to web accessibility. Nicholas Zakas, Yahoo! homepage developer, and Victor Tsaran, Yahoo! senior accessibility program manager, gave a talk on the process of making Yahoo!&#8217;s homepage highly accessible.</p>
<p>We apologize for the uneven audio levels: there were technical issues with the microphones that we unfortunately were only able to adjust towards the second half of the talk.</p>
<p>If the video embed below doesn&#8217;t show up correctly in your RSS reader of choice, be sure to <a href="http://developer.yahoo.com/yui/theater/video.php?v=zakas-tsaran">click through to watch the high-resolution version of the video on YUI Theater</a>.</p>
<p>
<div><object width="510" height="287"><param name="movie" value="http://d.yimg.com/m/up/ypp/default/player.swf"></param><param name="flashVars" value="vid=20586117&#038;"></param><param name="allowfullscreen" value="true"></param><param name="wmode" value="transparent"></param><embed width="510" height="287" allowFullScreen="true" src="http://d.yimg.com/m/up/ypp/default/player.swf" type="application/x-shockwave-flash" flashvars="vid=20586117&#038;"></embed></object></div>
</p>
<ul>
<li><a href='http://yui.zenfs.com/theater/zakas-tsaran-hd.mov'>Download HD video (480p ~1.4GB)</a></li>
<li><a href="http://yui.zenfs.com/theater/zakas-tsaran.m4v">Download video (m4v)</a></li>
</ul>
<h3>Other Recent YUI Theater Videos:</h3>
<ul>
<li><a href='http://developer.yahoo.com/yui/theater/video.php?v=lembree-a11y'><strong>Dennis Lembree:</strong> Making JavaScript Accessible</a> &mdash; Dennis Lembree, an accessibility expert and the creator of AccessibleTwitter discusses the challenges of making JS-enabled sites accessible. The talk took place at the June 2010 BayJax meetup at Yahoo.</li>
						</div>

						<div class="meta">
    <img src="http://www.gravatar.com/avatar/4e49b8ac07e8a2541ce9efcc1bb269bc?s=32"> <div class="cont"><span class="name">By Allen Rabinovich</span><span class="date">August 16th, 2010<span></div></div>
				</div>
										
								<div class="post-2428 post type-post status-publish format-standard hentry category-accessibility category-yui-theater tag-accessibility tag-dennis-lembree tag-yahoo tag-yui-theater">
				
						<h2 id="post-2428"><a href="/yuiblog/blog/2010/08/16/video-lembree/">YUI Theater &mdash; Dennis Lembree: &#8220;Making JavaScript Accessible (26 min.)&#8221;</a></h2>
					

						<div class="entry">
							<p><a href="http://developer.yahoo.com/yui/theater/video.php?v=lembree-a11y"><img src="/yuiblog/blog-archive/assets/dennis-lembree-blog-june-10.jpg" alt="Dennis Lembree's Talk at the BayJax event at Yahoo! in June, 2010." width="510"></a></p>
<p>In June, at the <a href="www.meetup.com/BayJax/" target="_blank">BayJax</a> meetup on web accessibility hosted by Yahoo!, the accessibility expert Dennis Lembree gave a talk on the challenges of making JavaScript-enabled websites accessible.</p>
<p>If the video embed below doesn&#8217;t show up correctly in your RSS reader of choice, be sure to <a href="http://developer.yahoo.com/yui/theater/video.php?v=lembree-a11y">click through to watch the high-resolution version of the video on YUI Theater</a>.</p>
<p>
<div><object width="510" height="287"><param name="movie" value="http://d.yimg.com/m/up/ypp/default/player.swf"></param><param name="flashVars" value="vid=20586113&#038;"></param><param name="allowfullscreen" value="true"></param><param name="wmode" value="transparent"></param><embed width="510" height="287" allowFullScreen="true" src="http://d.yimg.com/m/up/ypp/default/player.swf" type="application/x-shockwave-flash" flashvars="vid=20586113&#038;"></embed></object></div>
</p>
<ul>
<li><a href='http://yui.zenfs.com/theater/lembree-a11y-hd.mov'>Download HD video (480p ~682MB)</a></li>
<li><a href="http://yui.zenfs.com/theater/lembree-a11y.m4v">Download video (m4v)</a></li>
</ul>
<h3>Other Recent YUI Theater Videos:</h3>
<ul>
<li><a href='http://developer.yahoo.com/yui/theater/video.php?v=zakas-tsaran'><strong>Nicholas Zakas and Victor Tsaran:</strong> Accessibility on the Yahoo Homepage</a> &mdash; Nicholas Zakas, a principal developer of the Yahoo! homepage, and Victor Tsaran&#8217;s, Yahoo!&#8217;s senior accessibility manager, discuss the strategies and methods that made one of the most visited websites in the world fully accessible. The talk took place at the June 2010 BayJax meetup at Yahoo.</li>
<li><a href='http://developer.yahoo.com/yui/theater/video.php?v=zakas-hpjs'><strong>Nicholas Zakas, Stoyan Stefanov, Ross Harmes, Julien Lecomte, Matt Sweeney:</strong> High Performance JavaScript</a> &mdash; Five contributors to O&#8217;Reilly&#8217;s <em>High Performance JavaScript</em> discuss advanced JavaScript and DOM scripting optimizations at the April 2010 BayJax meetup at Yahoo.</li>
<li><a href='http://developer.yahoo.com/yui/theater/video.php?v=heilmann-yql'><strong>Christian Heilmann:</strong> YQL and YUI: Building Blocks for Quick Applications</a> &mdash; The Yahoo! Developer Network&#8217;s international evangelist Christian Heilmann discusses his philosophy for creating fast, powerful, compelling applications using the Yahoo Query Language (YQL) and the Yahoo User Interface Library (YUI).</li>
</ul>
						</div>

						<div class="meta">
    <img src="http://www.gravatar.com/avatar/4e49b8ac07e8a2541ce9efcc1bb269bc?s=32"> <div class="cont"><span class="name">By Allen Rabinovich</span><span class="date">August 16th, 2010<span></div></div>
				</div>
										
								<div class="post-2433 post type-post status-publish format-standard hentry category-development">
				
						<h2 id="post-2433"><a href="/yuiblog/blog/2010/08/16/yui-open-hours-wed-aug-18th/">YUI: Open Hours Wed Aug 18th</a></h2>
					

						<div class="entry">
							<p>Let&#8217;s talk about DataTable!</p>
<p>For those of you that don&#8217;t subscribe to the <a href="http://yuilibrary.com/gallery/calendar/#calendar">YUI calendar</a> or <a href="http://yuilibrary.com/forum/">YUILibrary.com forum</a>, the next installment of <a href="/yuiblog/blog/2010/04/08/introducing-yui-open-hours/">YUI: Open Hours</a> will be this Wednesday the 18th.</p>
<p><a href="http://developer.yahoo.com/yui/datatable/">DataTable</a> is one of the most used components in YUI 2, and certainly one of the most coveted components for YUI 3.  It&#8217;s not uncommon to hear people talking about &quot;YUI&quot; that are actually just talking about DataTable.  In fact, some folks are waiting for DataTable before they make the plunge from YUI 2 to YUI 3.</p>
<p>Jenny Donnelly will be joining me this Wednesday to talk about what&#8217;s up with DataTable in YUI 3: when to expect it, what sort of features it will have, how it will differ from YUI 2, and what sort of design and architecture challenges she&#8217;s facing.  It&#8217;s important to get this right, and with a component like DataTable, there&#8217;s <em>a lot</em> to get right!  Also, she&#8217;ll talk about the options you have today for getting DataTable in your YUI 3 apps &mdash; hopefully addressing the concerns of those that are holding off on YUI 3 (or even YUI at all) until DataTable or other YUI 2 widgets are officially migrated.</p>
<p>Of course, no talk about DataTable would be complete without <a href="/yuiblog/blog/2010/07/20/yui-2-8-learning-the-library/">Satyam</a>, so he will be joining us from the sunny beaches of Barcelona to talk about the history of DataTable and its community.  He should be able to provide some interesting perspective on some of the common trouble spots people run into when working with DataTable in YUI 2 and help guide the conversation and brainstorming for a community driven feature wishlist.</p>
<p>As usual, we&#8217;ll be online from 10am to 12pm PDT.  The connection details are the same as usual.</p>
<ol>
<li>Dial in to 1-888-371-8922 (Skype works great for non-US participants*)</li>
<li>Enter the attendee code 47188953#</li>
<li><a href="https://www.meeting.corp.yahoo.com/r82701271/">Join the screen sharing session</a> (this will prompt you to install the Adobe Connect plugin if this is your first time using it)</li>
</ol>
<p>Here&#8217;s the <a href="http://yuilibrary.com/forum/viewtopic.php?f=18&#038;t=4641">forum thread</a> for this Open Hours.  I&#8217;ll post some of the interesting takeaways after the call.  Our attempt to record the last Open Hours met with a firey (technical problems) death, so we&#8217;ll try again, this time with feeling.</p>
<p>Follow <a href="http://twitter.com/yuilibrary">@yuilibrary</a> on Twitter for the latest updates on Open Hours and other YUI interestingness.</p>
<p>Hope to see you there!</p>
<p>* &#8211; If Skype is not an option, email me for a local number.</p>
						</div>

						<div class="meta">
    <img src="http://www.gravatar.com/avatar/3974d5bcfbdb27cc99d10706dc5b85f7?s=32"> <div class="cont"><a href="http://lucassmith.name" class="name">By Luke Smith</a><span class="date">August 16th, 2010<span></div></div>
				</div>
										
								<div class="post-2420 post type-post status-publish format-standard hentry category-in-the-wild">
				
						<h2 id="post-2420"><a href="/yuiblog/blog/2010/08/13/in-the-wild-for-august-13-2010/">In the Wild for August 13, 2010</a></h2>
					

						<div class="entry">
							<p>Here are a few of the news stories that have caught our eye in the YUI community over the past few weeks.  As always, let me know <a href="http://twitter.com/yuilibrary">@yuilibrary</a> or in the comments below if I missed something.</p>
<ul id="releaselist-35">
<li id="yuiBlogWild-486"><strong><a href="https://www.packtpub.com/article/yui-2-8-rich-text-editor">Detailed YUI 2.8.0 Rich Text Editor Article from Satyam and Packt</a>:</strong> Satyam (Daniel Barreiro), as part of his new Packt volume <a href="https://www.packtpub.com/yahoo-user-interface-yui-2-8-learning-library/book">YUI 2.8: Learning the Library</a>, has published an extensive writeup on the <a href="http://developer.yahoo.com/yui/editor/">YUI 2 Rich Text Editor</a> on the Packt website.&nbsp; You can check it out <a href="https://www.packtpub.com/article/yui-2-8-rich-text-editor">here</a>.<br /><a href="https://www.packtpub.com/article/yui-2-8-rich-text-editor"><img src="/yuiblog/blog-archive/assets/packt-rte-20100719-115423.jpg" width="510" vspace="10"></a></li>
<li id="yuiBlogWild-490"><strong><a href="http://www.sitepoint.com/blogs/2010/07/27/whats-new-in-the-yui-3-2-0-preview-release/">Excellent Coverage of the YUI 3.2.0 Preview Release on Sitepoint by @rssaddict</a>:</strong> Louis Simoneau wrote up <a href="http://www.sitepoint.com/blogs/2010/07/27/whats-new-in-the-yui-3-2-0-preview-release/">a nice review</a> of the <a href="/yuiblog/blog/2010/07/26/3-2-0pr1/">YUI 3.2.0 Preview Release 1</a> that we issued on July 26.  Writes Louis: &#8220;A lot of [the new] features seem to have a common thread: HTML5 and mobile platforms. I’m sure that’s no accident, and it’s great to see more and better developer tools entering this space. As I said, there’s a lot more than just these features, so if you’re a YUI fan—or if you’ve yet to check it out—head on over and <a href="http://yuilibrary.com/downloads/">grab yourself a copy</a> of the preview to play around with.&#8221;<br /><a href="http://www.sitepoint.com/blogs/2010/07/27/whats-new-in-the-yui-3-2-0-preview-release/"><img src="/yuiblog/blog-archive/assets/sitepoint-3-2-0-20100727-100738.jpg" vspace="10"></a></li>
<li id="yuiBlogWild-494"><strong><a href="http://almaer.com/blog/capability-based-javascript-loading-js-libraries-catch-up-to-gwt">Dion Almaer on YUI 3.2.0&#8242;s Capability-based Loading</a>:</strong> Dion Almaer has a nice article up on his personal blog about capability-based loading, a feature YUI engineer Adam Moore has added to YUI 3 and which is included in the <a href="/yuiblog/blog/2010/07/26/3-2-0pr1/">first YUI 3.2.0 preview release</a>. Dion reviews the state of capability-based loading in his article, starting with Google&#8217;s GWT and progressing to similar support in other JavaScript libraries.  &#8220;And this brings us to YUI,&#8221; says Dion. &#8220;I was really excited to see some of the features in the YUI 3.2.0 preview release. Great stuff for touch/gesture support, but what stood out for me was &#8216;YUI’s intrinsic Loader now supports capability-based loading&#8217;. A-ha!&#8221;  <a href="http://almaer.com/blog/capability-based-javascript-loading-js-libraries-catch-up-to-gwt">You can read Dion&#8217;s full report here</a>.</li>
<li id="yuiBlogWild-487"><strong><a href="http://patcavit.com/2010/07/01/simple-yui3-plugin-tutorial/">Pat Cavit Tutorial on Writing YUI 3 Plugins</a>:</strong> Pat Cavit has a new tutorial up that details the creation of YUI 3 Plugins: &#8220;At their core YUI3 Plugins are a way to add new behavior to JS objects. It’s really just that simple. Going into it a little deeper you can explain the idea behind them as providing a framework-backed way to add new functionality &amp; behaviors to host objects without the host needing to know anything about the plugins. Taking advantage of this means that you can add lots of functionality to your objects without requiring a lot of code. It’s another example of YUI3&#8242;s great support for modularity of code. Want your widget to accept flaboozulms? Write a plugin! Want your widget to support flaboozulms &amp; flibberdybops? Write a plugin for flibberdybops &amp; then use both the flaboozulms &amp; flibberdybops plugins together. It’s a really powerful idea.&#8221; <a href="http://patcavit.com/2010/07/01/simple-yui3-plugin-tutorial/">Check out his blog for the full article</a>.</li>
<li id="yuiBlogWild-488"><strong><a href="https://www.packtpub.com/sites/default/files/0707-chapter-7-menus.pdf">Sample Chapter on YUI 2.8.0 Menu from Satyam&#8217;s New Book</a>:</strong> Satyam has a new book out on YUI 2.8, and Packt has released a sample chapter from the new volume.&nbsp; The <a href="https://www.packtpub.com/sites/default/files/0707-chapter-7-menus.pdf">sample chapter covers YUI Menu</a> and can be downloaded from <a href="https://www.packtpub.com/yahoo-user-interface-yui-2-8-learning-library/book">the book&#8217;s page on the Packt website</a>.</li>
<li id="yuiBlogWild-491"><strong><a href="http://www.acooke.org/cute/EasySlidei0.html">&#8220;Easy Sliding Menus&#8221; with YUI 3 by @andrew_cooke</a>:</strong> Blogger Andrew Cooke writes the following in introducing his simple sliding-menu implementation based on YUI 3.1.1: &#8220;YUI 3 is amazing.  It looks terrifyingly complex, but once you get into it,<br />
you can do complex things trivially.  I use jQuery at work, and in comparison, YUI 3 feels like it was written by software engineers rather than people hacking web pages.&#8221;  <a href="http://www.acooke.org/cute/EasySlidei0.html">Check out his implementation of menuing here</a>.<br /><a href="http://www.acooke.org/cute/EasySlidei0.html"><img src="/yuiblog/blog-archive/assets/easy-sliding-menus-20100727-102104.jpg" vspace="10"></a></li>
<li id="yuiBlogWild-493"><strong><a href="http://ajaxian.com/archives/yui-3-2-0-preview-release-1-touch-events-support-transitions-and-browser-specific-loading">Coverage of YUI 3.2.0 Preview Release 1 from @codepo8 on Ajaxian</a>:</strong> <a href="http://developer.yahoo.com/">Yahoo! Developer Network</a> evangelist Christian Heilmann <a href="http://ajaxian.com/archives/yui-3-2-0-preview-release-1-touch-events-support-transitions-and-browser-specific-loading">has a nice article up on Ajaxian</a> talking about the July 26 <a href="/yuiblog/blog/2010/07/26/3-2-0pr1/">YUI 3.2.0 Preview Release 1</a>, our first public preview of the next YUI 3 release.<br /><a href="http://ajaxian.com/archives/yui-3-2-0-preview-release-1-touch-events-support-transitions-and-browser-specific-loading"><img src="/yuiblog/blog-archive/assets/ajaxian-3-2-0-20100727-114113.jpg" vspace="10"></a></li>
<li id="yuiBlogWild-489"><strong><a href="http://www.pabich.eu/blog/archive/2010/07/22/Java-Script-unit-testing-with-YUI-Test-and-Jack-mocking.aspx">YUI Test with the Jack Mocking Framework</a>:</strong> Pawel Pabich has <a href="http://www.pabich.eu/blog/archive/2010/07/22/Java-Script-unit-testing-with-YUI-Test-and-Jack-mocking.aspx">a nice writeup on his blog</a> showing how he used <a href="http://developer.yahoo.com/yui/3/test/">YUI Test</a> with the <a href="http://boss.bekk.no/display/BOSS/Jack">Jack</a> JavaScript mocking framework to unit test some form-input validation and submission code.&nbsp;</li>
<li id="yuiBlogWild-496"><strong><a href="http://www.pivotaltracker.com/projects/482#">Pivotal Tracker, an Agile Tracking System, Using YUI 2</a>:</strong> This isn&#8217;t breaking news &#8212; it&#8217;s been around for a long time &#8212; but the Agile project management system <a href="http://www.pivotaltracker.com/projects/482">Pivotal Tracker</a> is heavily YUI&nbsp; 2-based, using the utilities suite, Container, and more.<br /><a href="http://www.pivotaltracker.com/projects/482#"><img src="/yuiblog/blog-archive/assets/Erector_-_Pivotal_Tracker-20100730-102321.jpg" vspace="10"></a></li>
<li id="yuiBlogWild-497"><strong><a href="http://github.com/mjijackson/yuicompressor/tree/master/test/">Ruby Gem for YUI Compressor from @mjijackson</a>:</strong> Ruby hacker Michael Jackson has posted his <a href="http://github.com/mjijackson/yuicompressor/tree/master/test/">Ruby gem for YUI Compressor on GitHub</a>. From Michael&#8217;s project notes: &#8220;YUICompressor is a Ruby module that may be used to create compressed versions of JavaScript and CSS code quickly and easily using the Yahoo User Interface (YUI) library compressor. The module is essentially a wrapper around the YUI Compressor (a Java library) that supports two different modes of operation: shell and native. In shell mode the YUI Compressor library executes in a separate process. Code is piped into and out of this process using the system shell. This approach yields good performance and is the default for MRI and other Ruby versions that are not able to execute Java code. In native mode the compressor is invoked in the same process as Ruby. This is only possible when using YUICompressor on JRuby. With this approach, compression speeds dramatically improve because the system does not incur the overhead of invoking a separate Java process for each compression.&#8221; (<a href="http://twitter.com/mjijackson/status/20239600198">Original source.</a>)<br /><a href="http://github.com/mjijackson/yuicompressor/tree/master/test/"><img src="/yuiblog/blog-archive/assets/compressorgem-20100804-085358.jpg" vspace="10"></a></li>
<li id="yuiBlogWild-492"><strong><a href="http://webdesign.about.com/b/2010/07/25/web-design-software-pick-of-the-week-yahoo-yui-library.htm">YUI is About.com&#8217;s Web Design &#8220;software Pick of the Week&#8221;</a>:</strong> Jennifer Kyrnin writes for About.com: &#8220;Sometimes the easiest way to learn a web design technique is to borrow from someone else. Now, a lot of designers will get angry if you borrow their code, but Yahoo! has put together an entire library of scripts and CSS that you can use to create interactive websites. There are two versions of the YUI framework. <a href="http://developer.yahoo.com/yui/2/">Version 2</a> has been available since 2006 and is very robust and proven. If you&#8217;re working on sites that need interactivity, but also need to be very reliable, then this is the version you should use. <a href="http://developer.yahoo.com/yui/3/">Version 3</a> is what they call their &#8220;next generation&#8221; library. It hasn&#8217;t been as widely tested, and includes things that might be more cutting edge. But if you&#8217;re building sites that need more advanced (often beta) interactivity options, this is the version for you.&#8221;<br /><a href="http://webdesign.about.com/b/2010/07/25/web-design-software-pick-of-the-week-yahoo-yui-library.htm"><img src="/yuiblog/blog-archive/assets/about-softwarepickoftheweek-20100727-102732.jpg" vspace="10"></a></li>
<li id="yuiBlogWild-495"><strong><a href="http://twitter.com/avernet/statuses/19852672407">Thanks, Alessandro</a>:</strong> We enjoyed this tweet from @avernet&#8230;<br /><a href="http://twitter.com/avernet/statuses/19852672407"><img src="/yuiblog/blog-archive/assets/elegance-20100730-093711.jpg" vspace="10"></a></li>
<li id="yuiBlogWild-498"><strong><a href="http://joedag32.com/2010/07/25/yui-3-awesomeness/">Notes from @joedag32 on Building a Sortable List with YUI 3 Sortable</a>:</strong> Writes Joe: &#8220;I’ve been working on building an application that will need an easy to use sortable list, that will fire off an event upon the list order changing. As simple as this sounds, it would require a lot of coding and cross browser testing to pull this one off with just javascript alone.  YUI 3 allowed me to accomplish the above in just a few minutes. I’m not even going to try to guess just how much time it’d of taken me to do on my own.  I made use of the Sortable Utility to make and unordered list sortable in just a few lines of code.&#8221;  Check out his solution <a href="http://joedag32.com/2010/07/25/yui-3-awesomeness/">here</a>.</li>
<li id="yuiBlogWild-499"><strong><a href="http://ajaxdump.com/2010/08/11/10-cool-auto-complete-scripts-using-ajaxjquerymootoolsprototype/#attachment_1149">AjaxDump&#8217;s AutoComplete Widget List</a>:</strong> AjaxDump includes YUI among its 10 great AutoComplete tools.  Beyond the YUI 2-based AutoComplete documented on the site, be sure to check out <a href="http://yuilibrary.com/gallery/show/aui-autocomplete">the YUI 3 Gallery autocomplete component from Nate Cavanaugh and Eduardo Lundgren</a> — <a href="http://yuilibrary.com/gallery/show/aui-textboxlist">as well as their &#8220;text-box list&#8221; widget, which implements a lozenge-style autocomplete interaction</a>.<br /><a href="http://ajaxdump.com/2010/08/11/10-cool-auto-complete-scripts-using-ajaxjquerymootoolsprototype/#attachment_1149"><img src="/yuiblog/blog-archive/assets/autocomplete-20100813-113542.jpg" vspace="10"></a></li>
</ul>
						</div>

						<div class="meta">
    <img src="http://www.gravatar.com/avatar/d011327f5a3d4f1dc4215968e2bfd524?s=32"> <div class="cont"><a href="http://ericmiraglia.com" class="name">By Eric Miraglia</a><span class="date">August 13th, 2010<span></div></div>
				</div>
										
								<div class="post-2403 post type-post status-publish format-standard hentry category-development category-yui-events">
				
						<h2 id="post-2403"><a href="/yuiblog/blog/2010/08/09/august-bayjax/">Douglas Crockford&#8217;s &#8220;Loopage&#8221; at August 27 BayJax Meetup</a></h2>
					

						<div class="entry">
							<p><a href="http://www.meetup.com/BayJax/calendar/14371278/?from=list&#038;offset=0" title=""><img src="/yuiblog/blog-archive/assets/loopage-20100809-153704.jpg"></a></p>
<ul>
<li><strong>Where:</strong> Yahoo! HQ in Sunnyvale</li>
<li><strong>When:</strong> August 27, 2010, 5:30 p.m.</li>
<li><strong>Registration:</strong> <a href="http://www.meetup.com/BayJax/calendar/14371278/?from=list&#038;offset=0">BayJax meetup page</a></li>
</ul>
<p>Join us for the next event in Douglas&#8217;s ongoing series of lectures on JavaScript.  This talk, <a href="http://www.meetup.com/BayJax/calendar/14371278/?from=list&amp;offset=0" title="Douglas Crockford: Loopage -  BayJax - The Bay Area Ajax and JavaScript Meetup (Palo Alto, CA) - Meetup.com">part of the Bayjax meetup series</a>, is entitled &#8220;Loopage.&#8221;  Here&#8217;s how Douglas describes the new talk:</p>
<blockquote><p>Software development is hampered by a specific set of design mistakes that were made in the first programming languages and repeated in everything that has been done since. And, somewhat miraculously, JavaScript is going to make it right, radically transforming the way we write applications. Again. In the Loop of History, it has all happened before, but it has never happened like this. This is why you should care about the emergence of server-side JavaScript and the excitement around projects like Node.js — not because they&#8217;re at the sharp end of a trend, but because they&#8217;re paving the road toward the next big revolution in software.</p>
</blockquote>
<p><a href="http://www.meetup.com/BayJax/calendar/14371278/?from=list&amp;offset=0" title="Douglas Crockford: Loopage -  BayJax - The Bay Area Ajax and JavaScript Meetup (Palo Alto, CA) - Meetup.com">Sign up on the Bayjax page to reserve your seat</a>.</p>
<p>We to see you for a fantastic new episode of BayJax and an always-worth-the-price-of-admission Crockford lecture; after the talk, we hope you&#8217;ll head over to <a href="http://nodeknockout.com/">the Node.js Knockout hackathon</a> to enact all your fresh inspiration.</p>
						</div>

						<div class="meta">
    <img src="http://www.gravatar.com/avatar/d011327f5a3d4f1dc4215968e2bfd524?s=32"> <div class="cont"><a href="http://ericmiraglia.com" class="name">By Eric Miraglia</a><span class="date">August 9th, 2010<span></div></div>
				</div>
										
								<div class="post-2396 post type-post status-publish format-standard hentry category-development tag-yql tag-yqldatasource tag-yui">
				
						<h2 id="post-2396"><a href="/yuiblog/blog/2010/08/09/ask-satyam-yql-and-yui/">Ask Satyam: Using YQL and YUI with YQLDataSource</a></h2>
					

						<div class="entry">
							<blockquote>
<p><a href="https://www.packtpub.com/yahoo-user-interface-yui-2-8-learning-library/book"><img align="right" src="/yuiblog/blog-archive/assets/satyam-book-small-20100809-120823.jpg" width="106" height="132" hspace=20></a>Satyam (a.k.a Daniel Barreiro) is a long-time YUI contributor and one of the most prolific, generous experts in the <a href="http://yuilibrary.com/forum/" title="YUI Library :: Forums :: Index page">YUI forums</a>.  He is also <a href="https://www.packtpub.com/yahoo-user-interface-yui-2-8-learning-library/book">the author of a new book on YUI 2.8.0, <em>YUI 2.8.0: Learning the Library</em></a>. This article in the &#8220;Ask Satyam&#8221; series <a href="/yuiblog/blog/2010/07/29/ask-satyam/#comment-593067" title="Ask Satyam — and Be Eligible for a Free Copy of the New YUI 2.8 Book from Packt &raquo; Yahoo! User Interface Blog (YUIBlog)">was suggested by Mike Hatfield</a>.  Satyam will be answering several additional questions in the coming weeks here on YUIBlog as part of the series.</p>
</blockquote>
<h3>Getting to Know YQL</h3>
<p>		<P>Yahoo! Query Language, <A HREF="http://developer.yahoo.com/yql/" NAME="YAHOO! Query Language">YQL</A>, is a great way of accessing an immense amount of information via a standard easy-to-use interface. To have a taste of how easy it is, compare the old <A HREF="http://developer.yahoo.com/music/api_guide/ArtistService.html">Artist Service documentation </A>with this simple YQL query: <CODE><A HREF="http://developer.yahoo.com/yql/console/?q=select%20*%20from%20music.artist.search%20where%20keyword='Rihanna'&amp;_uiFocus=music">select * from music.artist.search where keyword=&#8217;Rihanna&#8217;.</A></CODE></p>
<p><a href="http://developer.yahoo.com/yql/console/?q=select%20*%20from%20music.artist.search%20where%20keyword='Rihanna'&#038;_uiFocus=music"><img src="/yuiblog/blog-archive/assets/yql-20100809-102848.jpg"></a></p>
<p>The <A HREF="http://developer.yahoo.com/yql/console/">YQL Console</A> is very easy to use. It lists many of the tables available and sample queries on them so you can easily explore the wealth of information accessible through it. YQL does not store the data; rather, it is a query interface to other databases or APIs. The number of tables that YQL lists from Yahoo! sources is 142 but if you click on the <A HREF="http://developer.yahoo.com/yql/console/?q=show%20tables&amp;env=store://datatables.org/alltableswithkeys">Show Community Tables</A> link, the count rises to 825 and includes access to public data on Amazon, Facebook, NetFlix or the New York Times. (That&#8217;s where you&#8217;ll find a few YUI-related tables, too.)</p>
<p>Sometimes these tables require an access key you have to obtain from their owners; without it you may either not be able to perform the query or you will get a limited number of results. The YQL service itself has two addresses, one public and another which requires registration and provides better performance and, of course, you will need authentication to access private data from some of its tables.</P></p>
<p>		 <P>By default, YQL will only provide a sample reply with about 10 records. You can specify a larger number of results by adding the requested number of results in parentheses after the table name, for example:</P> <PRE>select * from music.artist.search(22) where keyword=&quot;madonna&quot;</PRE></p>
<p>		<P> Next to each table name in the Data Tables list in the YQL Console, whenever you mouse over a table name a <span style="color:white;background-color:grey;font-family:Verdana, sans-serif">&nbsp;Desc&nbsp;</span> button will show to the right of the table name. That will provide a description of the table and will usually include  sample queries and a list of fields. Be attentive to which fields are marked as <em>required</em>. This is where you may find required access keys for certain tables. </P></p>
<h3>Using YQL with YUI</h3>
<p>YQL is a flexible, generic interface to structured data on the web, and YUI (with <a href="http://developer.yahoo.com/yui/datasource/" title="YUI 2: DataSource">DataSource</a>, <a href="http://developer.yahoo.com/yui/autocomplete/" title="YUI 2: AutoComplete">AutoComplete</a>, <a href="http://developer.yahoo.com/yui/datatable/" title="YUI 2: DataTable">DataTable</a> and <a href="http://developer.yahoo.com/yui/charts/" title="YUI 2: Charts">Charts</a>) is good at consuming and providing interfaces to this data.</p>
<p>		<P>There are a few caveats to keep in mind at the outset, however.</p>
<h3>Quirk #1: Partial Queries and YQL Source Data</h3>
<p>Some tables are not fit for pairing with <a href="http://developer.yahoo.com/yui/autocomplete/" title="YUI 2: AutoComplete">AutoComplete</a> since they don&#8217;t provide results for partial search keys. Although YQL allows wildcard queries such as <CODE>keyword like &#8216;mado%&#8217;</CODE>, the actual provider of the data may not support such queries — so as the user starts typing in the AutoComplete box the name of Madonna, only results with full-word matches will appear and Madonna will not be offered until the name is typed in full. Keep this in mind as you explore the YQL Tables that are of interest to you in your application. </P></p>
<h3>Quirk #2: Sorting and Pagination in YQL</h3>
<p>		<P>Sorting in YQL is a filter applied after the result set is fetched. If you were to use YQL as the source for a DataTable with server-side sorting and pagination, you would be in trouble: If the user has the table already sorted by a certain column and asks for page two, YQL will first select the next <I>N</I> records of the unsorted table and then sort those when you would normally expect the next <I>N</I> records of the sorted table. For example, say you have a table with a single numeric field and the table contains 4,3,2,1 in that order. You have a DataTable with two rows per page and have it sorted by its single column. YQL will return 3,4 for the first page and 1,2 for the second, instead of 1,2 and then 3,4. That is because it first does the &#8216;page&#8217; selection on the unsorted data and then sorts it.</P> </p>
<h3>Quirk #3: YQl Response Structures</h3>
<p>		<P>YQL response structures change depending on the number of items returned. If we were to dump the variable pointing to the results, we may get any of these, depending on the item count:</P></p>
<style type="text/css">
		#yqldatasource td {border:1px solid black; padding:5px;}
		
        /* Site Header */
        #hd {
            padding: 25px 20px 20px;
        }
        #hd .site-header {
            display: flex;
            align-items: center;
        }
        #hd .site-brand {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        #hd .site-logo img {
            height: 52px;
            width: auto;
        }
        #hd .site-title {
            margin: 0;
            font-size: 32px;
            color: #30418C;
            line-height: 1.2;
            letter-spacing: normal;
        }
        #hd .site-title a {
            color: inherit;
            text-decoration: none;
        }
        #hd .site-tagline {
            margin: 5px 0 0;
            font-size: 15px;
            color: #666;
            letter-spacing: normal;
        }
    </style>
<p>		<TABLE id="yqldatasource"><br />
			<TR><br />
				<TH>Count</TH><br />
				<TH>YQL Response</TH><br />
				<TH>Consistent Version</TH><br />
			</TR><br />
			<TR><br />
				<TD>0</TD><br />
				<TD>
<pre>Null</pre>
<p></TD><br />
				<TD>
<pre>[]</pre>
<p></TD><br />
			</TR><br />
			<TR><br />
				<TD>1</TD><br />
				<TD>
<pre>{someChangingPropertyName: {
			fieldName1:value1, 
			fieldName2:value2, 
			...
		}}</pre>
<p></TD><br />
				<TD>
<pre>[
			{
				fieldName1:value1, 
				fieldName2:value2, 
			...
			}
		]</pre>
<p></TD><br />
			</TR><br />
			<TR><br />
				<TD>2 or more</TD><br />
				<TD><PRE>{someChangingPropertyName: [<br />
		    {<br />
				fieldName1:value1row1,<br />
				fieldName2:value2row1,<br />
				...<br />
			},<br />
		    {<br />
				fieldName1:value1row2,<br />
				fieldName2:value2row2,<br />
				...<br />
			},<br />
		    ...<br />
		]}</PRE><br />
				</TD><br />
				<TD><PRE>[<br />
		    {<br />
				fieldName1:value1row1,<br />
				fieldName2:value2row1,<br />
				...<br />
			},<br />
		    {<br />
				fieldName1:value1row2,<br />
				fieldName2:value2row2,<br />
				...<br />
			},<br />
		    ...<br />
		]</PRE><br />
				</TD><br />
			</TR><br />
		</TABLE><br />
		<P>The last column shows a more consistent alternative, no whimsical property name and always an array with whatever number of items the query might return, but always a simple array.</P></p>
<h3>YQL and Asynchronous Cross-Domain Data</h3>
<p>		 <P>YQL can also provide the very same information in several formats, <A HREF="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20geo.places%20where%20text=%22san%20francisco,%20ca%22">XML</A>, <A HREF="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20geo.places%20where%20text=%22san%20francisco,%20ca%22&amp;format=json">JSON</A> and <A HREF="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20geo.places%20where%20text=%22san%20francisco,%20ca%22&amp;format=json&amp;callback=cbfunc">JSONP</A>, the later being the one we are most interested in. Due to the <A HREF="http://en.wikipedia.org/wiki/Same_origin_policy">Same-Origin Policy</A>, browsers don&#8217;t allow their <A HREF="http://en.wikipedia.org/wiki/XMLHttpRequest">XMLHttpRequest</A> object to access sources out of its own domain. <A HREF="http://developer.yahoo.com/yui/connection/">YUI&#8217;s Connection Manager</A> and <a href="http://developer.yahoo.com/yui/3/io/" title="YUI 3: IO">YUI IO</a>, which were originally limited to XMLHttpRequest, have introduced an <A HREF="http://developer.yahoo.com/yui/connection/#xdr">XDR interface with Flash</A> which allows such cross-domain requests.</P></p>
<p>		<P>The <A HREF="http://developer.yahoo.com/yui/get/">YUI Get Utility</A> coupled with YQL&#8217;s <A HREF="http://en.wikipedia.org/wiki/JSONP#JSONP" NAME="Wikipedia entry for JSONP">JSONP</A> capability also addresses this problem. Let&#8217;s see how this works. You can add <CODE>&lt;script&gt;</CODE> tags at any time and <CODE>&lt;script&gt;</CODE> tags can load anything from anywhere; we do this regularly when we load the YUI Library components from Yahoo!&#8217;s CDN regardless of where our page is located. However, this approach requires some help from the server because the <CODE>&lt;script&gt;</CODE> tag expects JavaScript code. If we were to load a file containing the following:</P> </p>
<p>		<PRE>123</PRE></p>
<p>		<P> it wouldn&#8217;t do us any good, because the value is not assigned to a variable. If we were to load this:</P></p>
<p>		<PRE>var result = 123;</PRE></p>
<p>		<P> then, the number would be stored into variable <CODE>result</CODE>. Such a variable would be in the global scope, <a href="/yuiblog/blog/2006/06/01/global-domination/" title="Global Domination &raquo; Yahoo! User Interface Blog (YUIBlog)">which is not a good idea</a>.  Even worse, although value would be retrievable once stored, we wouldn&#8217;t know when it becomes available; we&#8217;d have to poll the <code>result</code> variable to discover when we&#8217;d gotten data. The <a href="http://developer.yahoo.com/yui/get/" title="YUI 2: Get Utility">YUI Get Utility</a> solves this problem by signaling both successful and failed transactions.</p>
<p>A more general solution, relying on some help from the server, is to wrap the value in a callback function:</P> </p>
<p>			<PRE>callbackFunction(123);</PRE></p>
<p>			<P> This function takes care of storing or processing the value and it would not be called until the content is fully loaded, so it can also signal the arrival of the data. Most JSONP servers accept a URL argument (usually called <code>callback</code>) which contains the name of the function to wrap the data with. Namespaced functions such as <CODE>YAHOO.example.SiteExplorer.callback</CODE> are a wise option for callback functions.</P></p>
<p>			<P>An important issue is to be considered: JSONP is by no means as secure as JSON. JSON does not allow any sort of executable code in the field values. Though, in principle, any good JSON encoder should prevent code from being injected into the JSON output, YUI&#8217;s <A HREF="http://developer.yahoo.com/yui/json/">JSON utility</A> also checks that none is received. This is not the case with JSONP where anything received will be happily executed, with all sorts of possible side-effects, no questions asked. In JSONP, you are basically asking a foreign server to produce a script to load. Thus, be careful to use JSONP with trusted servers and, if you plan to provide JSONP from your server, make sure to use a good JSON encoder before wrapping the results in the callback so that any field that might contain fraudulent code gets escaped and thus neutralized. Just as we learned about <A HREF="http://en.wikipedia.org/wiki/SQL_injection">SQL Injection</A> and how to prevent it, remember JSONP shares this kind of <A HREF="http://en.wikipedia.org/wiki/JSONP#Basic_Security_concerns">vulnerability</A>.</P></p>
<p>			<P>The YQL service supports JSONP; in the console, an extra input box appears to the right of the JSON checkbox, initially containing the text <CODE>cbfunc</CODE>.</p>
<p><img src="/yuiblog/blog-archive/assets/yql-callback-20100809-113007.jpg"></p>
<p>This is translated to an extra parameter in querystring. If we select JSON, the URL changes from:</P><br />
	<PRE>http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20<br />
	      geo.places%20where%20text%3D%22san%20francisco%2C%20ca%22</PRE></p>
<p>			<P> to</P></p>
<p>	<PRE>http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20<br />
	     geo.places%20where%20text%3D%22san%20francisco%2C%20ca%22&amp;<br />
	     format=json&amp;callback=cbfunc</PRE></p>
<p>			<P> The basic URL takes a <CODE>q</CODE> argument containing the URL-encoded query. For JSON we may specify <CODE>format=json</CODE> and to make it JSONP we provide the name of the <CODE>callback</CODE> function. An optional <CODE>diagnostics=true</CODE> argument may be added to get some extra diagnostics information in the response.</P></p>
<h3>Using YQL as a Source of Data in YUI</h3>
<p>			<P>Jonathan LeBlanc has also written a convenient <A HREF="http://github.com/jcleblanc/yql-utilities/tree/master/js-yql-display/">utility</A> to do YQL queries and format their results based on a simple template, which he presented in a <A HREF="/yuiblog/blog/2009/06/17/yui-and-yql/">YUI Blog article</A>. You just need to provide the YQL query, the template to format the result and the container for the result and it takes care of all the minutiae for us.</P></p>
<p><PRE>yqlWidget.push(<br />
   // query<br />
   &#8216;select item.description from weather.forecast where location = 90210&#8242;,<br />
   // configuration options<br />
   {},<br />
   // template with placeholders with field names inside curly brackets<br />
   &#8216;&lt;br style=&quot;clear:both&quot; /&gt;{item.description}&#8217;,<br />
   // id of the container for the results<br />
   &#8216;widgetContainer&#8217;<br />
);<br />
yqlWidget.render();</PRE></p>
<p>				<P>Any number of fields can be requested in the query; even nested fields such as <CODE>item.description</CODE> can be used in the template by enclosing them in curly brackets.</P> </p>
<h3>YQLDataSource</h3>
<p>				<P>The YQLDataSource class takes Jonathan&#8217;s work one step further by transforming the YQL data into a formal DataSource object that YUI can make use of.  The result of a YQL query is usually some tabular information. YUI&#8217;s <A HREF="http://developer.yahoo.com/yui/datasource/">DataSource</A> component is designed to retrieve this type of information. Several other YUI components use DataSource to fetch their data, including <A HREF="http://developer.yahoo.com/yui/autocomplete/">AutoComplete</A>, <A HREF="http://developer.yahoo.com/yui/charts/">Charts</A> and <A HREF="http://developer.yahoo.com/yui/datatable/">DataTable</A>. Some time ago I developed a subclass of DataSource, <A HREF="http://www.satyam.com.ar/yui/2.8.0/YQLDataSource.js">YQLDataSource</A> that extends <CODE>YAHOO.util.ScriptNodeDataSource</CODE> to connect to the YQL web service to fetch data from it. I used it in <A HREF="http://www.satyam.com.ar/yui/2.8.0/nested1.html">this example</A>, where the data for an AutoComplete box and two levels of nested DataTables are provided by YQLDataSource (the nested DataTables will be the subject of a further article).</P></p>
<p>	<P>YQLDataSource is simple and could be simpler still. In the constructor we set the default URL for the YQL web service, if none is explicitly given by the developer:</P></p>
<p>	<PRE>YAHOO.util.YQLDataSource = function (oLiveData, oConfigs) {<br />
	    oLiveData = oLiveData || &#8216;http://query.yahooapis.com/v1/public/yql?format=json&amp;q=&#8217;;<br />
	    YAHOO.util.YQLDataSource.superclass.constructor.call(this, oLiveData, oConfigs);<br />
	};</PRE></p>
<p>		<P> As part of the URL we already establish the format of the reply as JSON and add the <CODE>q</CODE> argument to receive the YQL query.</P> </p>
<p>		<P>Just as all other DataSource subclasses do, we copy over the static members, mostly constants, that we can use:</P></p>
<p>	<PRE>YAHOO.lang.augmentObject(YAHOO.util.YQLDataSource, YAHOO.util.DataSourceBase);</PRE></p>
<p>	<P> When extending the ScriptNodeDataSource, we override several of its members, the first of them being the <CODE>responseType</CODE> since we know the <code>responseType</code> will be JSON:</P></p>
<p>	<PRE>YAHOO.lang.extend(YAHOO.util.YQLDataSource, YAHOO.util.ScriptNodeDataSource, {<br />
	    responseType:YAHOO.util.DataSource.TYPE_JSON,</PRE></p>
<p>		<P> Since we will receive a YQL statement as the request, we need to escape it before allowing it to be concatenated into the rest of the URL. We do that in the <CODE>makeConnection</CODE> method, which we override thus:</P></p>
<p>	<PRE>makeConnection : function(oRequest, oCallback, oCaller) {<br />
	     YAHOO.util.YQLDataSource.superclass.makeConnection.call(this,<br />
	          encodeURIComponent(oRequest),oCallback,oCaller);<br />
	}</PRE></p>
<p>		<P> We call the original version with the <CODE>oRequest</CODE> argument, which contains the YQL query, properly escaped.</P> <P>Now we add some magic. We&#8217;ll assume that we&#8217;ve been careful and explicitly enumerated the fields to retrieve. I dislike seeing <CODE>Select *</CODE> statements in production code; they&#8217;re fine for exploring but wasteful in an end product. Thus, I&#8217;ll trust that whatever fields come in the response are the ones we really wanted. Unfortunately, YQL does not return a list of fields nor their data type; moreover, depending on the query, fields such as dates might show up in very different formats. Since YQL is no more than an intermediary, the values it returns are those from the original source in whichever format they are provided, which accounts for the different formats of values such as dates or Booleans.</P></p>
<p>		<P>So, in the end, we will trust whatever comes in the results but, if some piece of data is not in the proper format, we&#8217;ll still allow a parser to be specified. For example, to sort a column containing numbers in YUI DataTable, number fields need to be actual JavaScript numbers, not just strings containing digits. The YQL query for the tracks of a particular album returns the numeric values as strings, so we need to parse them into numbers. We can say:</P></p>
<p>	<PRE>var tracksDS = new YQLDS(&#8221;, {<br />
	    responseSchema: {<br />
	        fields:[<br />
	            {key:'Track.discNumber', parser:'number'},<br />
	            {key:'Track.trackNumber', parser:'number'},<br />
	            {key:'Track.duration', parser:'number'},<br />
	            {key:'Track.popularity', parser:'number'}<br />
	        ]<br />
	    }<br />
	});</PRE></p>
<p>		<P>The query also contains a <CODE>title</CODE> field, which is a string and needs no parsing. Also note that the data is nested a level further down so we use dot-notation to fetch it. If the first row of data, which we use to figure out what fields are coming, is not representative of the structure of the response, the fields missing in that first row can be specified as well and, finally, if for some reason the data is not located where YQLDataSource assumes, we can also specify the <CODE>resultsList</CODE>. </P></p>
<p>		<P>We won&#8217;t go into every detail here; the source code contains comments that will guide you through the steps. Enough to say that the <CODE>parseJSONData</CODE> method is overridden so, before the original method is called, all the field information is extracted from the first row of the data about to be parsed and combined with whatever the developer has specified. In this method we also add the <CODE>responseSchema.metaFields </CODE> property, if not already present, to extract meta-information that is always available on the query, the number of records returned (<CODE>count</CODE>),when the result set was created (<CODE>created</CODE>) and the language of the data (<CODE>lang</CODE>).</P></p>
<p><a href="http://satyam.com.ar/yui/2.8.0/YQLDataSource.html" title="YQL DataSource"><img src="/yuiblog/blog-archive/assets/satyam-yql-ds-example-20100809-115849.jpg"></a></p>
<p>		<P>For simple cases, I built <A HREF="http://satyam.com.ar/yui/2.8.0/YQLDataSource.html">this example</A> which uses YQLDataSource and is able to fill a given container with the results of a query based on a template. The function can be called like this:</P></p>
<p>	<PRE>YAHOO.example.YQLSubstitute(<br />
	    &#8216;list&#8217;,<br />
	    &#8216;select title, abstract, url, source from search.news where query=&quot;barcelona&quot;&#8217;,<br />
	    &#8216;&lt;li&gt;&lt;h2&gt;{title}&lt;\/h2&gt;&lt;p&gt;{abstract}&lt;\/p&gt;&lt;address&gt;&lt;a href=&quot;{url}&quot;&gt;{source}&lt;\/a&gt;&lt;\/address&gt;&lt;\/li&gt;&#8217;<br />
	);</PRE></p>
<p>		<P> I called the function <CODE>YQLSubstitute </CODE>and placed it under the <CODE>YAHOO.example</CODE> namespace. It takes the following arguments:</P> <OL> <LI>A reference to or the id of the HTML that will contain the results (in this case, a reference to a <CODE>&lt;ul id=&#8217;list&#8217;&gt;</CODE> element elsewhere in the page). <LI>The YQL statement to execute.<LI>The template with the field names as placeholders <LI><P>An optional configuration object. </P> </OL> <P>Since the query is supported by YQLDataSource, it is possible to use dot-notation to specify nested fields in the placeholders. The optional fourth argument, the configuration options, is passed straight through to the YQLDataSource so, if any parser is needed, they can be set here. Additionally, the <CODE>YQLWebService</CODE> configuration option lets you override the URL of the YQL web service.</P></p>
<h3>YQL and YUI 3</h3>
<p>			<P>For YUI 3, there are still not many other components that can consume the data from a DataSource and DataSchema so, for the time being, I used Dav Glass&#8217; <A HREF="http://yuilibrary.com/gallery/show/yql">YQLQuery</A> gallery module which will be part of the 3.2.0 release. In the <A HREF="http://satyam.com.ar/yui/3.0.0/YQLSubstitute.html">YQLSubstitute</A> example for YUI 3 I tried to provide the same interface as in the YUI 2 example, with a few exceptions. The first argument is a CSS3 selector as is customary in YUI 3; nested fields and parsers are not available and there is no extra configuration option, just the first three mandatory arguments. Both examples are well commented, just scroll down to reach the comments after the query output.</P></p>
<h3>Conclusion</h3>
<p>			<P>In this article we have: </P> <UL> <LI>seen what YQL is and explored the YQL Console which lets us  put together a YQL query and see the resulting output provided in several formats <LI>explained what JSONP is and how to use it with the YUI Get Utility <LI>linked to a few examples that use Get to query YQL tables and present the results <LI>seen the YQLDataSource and how it works, including examples with AutoComplete and DataTable<LI> defined a YQLSubstitute function using YQLDataSource <LI>defined the same function for YUI3 using the YQLQuery gallery component</UL> </p>
<p>				<P>Do explore the many links provided along the article; the examples are real-life queries going straight to the YQL web service. Remember to scroll down past the sample output to read the descriptions and the commented code.</P></p>
						</div>

						<div class="meta">
    <img src="http://www.gravatar.com/avatar/83f0dfaa266dff4c90e90b451e988ccd?s=32"> <div class="cont"><a href="http://www.satyam.com.ar/" class="name">By Satyam</a><span class="date">August 9th, 2010<span></div></div>
				</div>
							
							<div class="bottom-nav">
					<div class="navigation yui3-g">
	<div class="next-posts yui3-u"><a href="/yuiblog/blog/2010/08/page/3/" >&laquo; Older Entries</a></div>
            <span class="greyed nav-separator">|</span> 
    	<div class="prev-posts yui3-u-1-2">
        <a href="/yuiblog/blog/2010/08/" >Newer Entries &raquo;</a>    </div>
</div>				</div>
						
	
</div>
</div>

<div id="sidebar" class="yui3-u-1-4"><div class="liner">

    <div id="pages-3" class="sidebox widget widget_pages"><div class="hd"><h2>Pages</h2></div><div class="bd">		<ul>
			<li class="page_item page-item-2"><a href="/yuiblog/blog/about/">About</a></li>
<li class="page_item page-item-989"><a href="/yuiblog/blog/contribute/">Contribute</a></li>
<li class="page_item page-item-1284"><a href="/yuiblog/blog/yui-team-positions/">YUI Jobs</a></li>
		</ul>
		</div></div>		<div id="archives-3" class="sidebox widget widget_archive"><div class="hd"><h2>Archives</h2></div><div class="bd">		<select name="archive-dropdown" onchange='document.location.href=this.options[this.selectedIndex].value;'> <option value="">Select Month</option> 	<option value='/yuiblog/blog/2012/12/'> December 2012 </option>
	<option value='/yuiblog/blog/2012/11/'> November 2012 </option>
	<option value='/yuiblog/blog/2012/10/'> October 2012 </option>
	<option value='/yuiblog/blog/2012/09/'> September 2012 </option>
	<option value='/yuiblog/blog/2012/08/'> August 2012 </option>
	<option value='/yuiblog/blog/2012/07/'> July 2012 </option>
	<option value='/yuiblog/blog/2012/06/'> June 2012 </option>
	<option value='/yuiblog/blog/2012/05/'> May 2012 </option>
	<option value='/yuiblog/blog/2012/04/'> April 2012 </option>
	<option value='/yuiblog/blog/2012/03/'> March 2012 </option>
	<option value='/yuiblog/blog/2012/02/'> February 2012 </option>
	<option value='/yuiblog/blog/2012/01/'> January 2012 </option>
	<option value='/yuiblog/blog/2011/12/'> December 2011 </option>
	<option value='/yuiblog/blog/2011/11/'> November 2011 </option>
	<option value='/yuiblog/blog/2011/10/'> October 2011 </option>
	<option value='/yuiblog/blog/2011/09/'> September 2011 </option>
	<option value='/yuiblog/blog/2011/08/'> August 2011 </option>
	<option value='/yuiblog/blog/2011/07/'> July 2011 </option>
	<option value='/yuiblog/blog/2011/06/'> June 2011 </option>
	<option value='/yuiblog/blog/2011/05/'> May 2011 </option>
	<option value='/yuiblog/blog/2011/04/'> April 2011 </option>
	<option value='/yuiblog/blog/2011/03/'> March 2011 </option>
	<option value='/yuiblog/blog/2011/02/'> February 2011 </option>
	<option value='/yuiblog/blog/2011/01/'> January 2011 </option>
	<option value='/yuiblog/blog/2010/12/'> December 2010 </option>
	<option value='/yuiblog/blog/2010/11/'> November 2010 </option>
	<option value='/yuiblog/blog/2010/10/'> October 2010 </option>
	<option value='/yuiblog/blog/2010/09/'> September 2010 </option>
	<option value='/yuiblog/blog/2010/08/'> August 2010 </option>
	<option value='/yuiblog/blog/2010/07/'> July 2010 </option>
	<option value='/yuiblog/blog/2010/06/'> June 2010 </option>
	<option value='/yuiblog/blog/2010/05/'> May 2010 </option>
	<option value='/yuiblog/blog/2010/04/'> April 2010 </option>
	<option value='/yuiblog/blog/2010/03/'> March 2010 </option>
	<option value='/yuiblog/blog/2010/02/'> February 2010 </option>
	<option value='/yuiblog/blog/2010/01/'> January 2010 </option>
	<option value='/yuiblog/blog/2009/12/'> December 2009 </option>
	<option value='/yuiblog/blog/2009/11/'> November 2009 </option>
	<option value='/yuiblog/blog/2009/10/'> October 2009 </option>
	<option value='/yuiblog/blog/2009/09/'> September 2009 </option>
	<option value='/yuiblog/blog/2009/08/'> August 2009 </option>
	<option value='/yuiblog/blog/2009/07/'> July 2009 </option>
	<option value='/yuiblog/blog/2009/06/'> June 2009 </option>
	<option value='/yuiblog/blog/2009/05/'> May 2009 </option>
	<option value='/yuiblog/blog/2009/04/'> April 2009 </option>
	<option value='/yuiblog/blog/2009/03/'> March 2009 </option>
	<option value='/yuiblog/blog/2009/02/'> February 2009 </option>
	<option value='/yuiblog/blog/2009/01/'> January 2009 </option>
	<option value='/yuiblog/blog/2008/12/'> December 2008 </option>
	<option value='/yuiblog/blog/2008/11/'> November 2008 </option>
	<option value='/yuiblog/blog/2008/10/'> October 2008 </option>
	<option value='/yuiblog/blog/2008/09/'> September 2008 </option>
	<option value='/yuiblog/blog/2008/08/'> August 2008 </option>
	<option value='/yuiblog/blog/2008/07/'> July 2008 </option>
	<option value='/yuiblog/blog/2008/06/'> June 2008 </option>
	<option value='/yuiblog/blog/2008/05/'> May 2008 </option>
	<option value='/yuiblog/blog/2008/04/'> April 2008 </option>
	<option value='/yuiblog/blog/2008/03/'> March 2008 </option>
	<option value='/yuiblog/blog/2008/02/'> February 2008 </option>
	<option value='/yuiblog/blog/2008/01/'> January 2008 </option>
	<option value='/yuiblog/blog/2007/12/'> December 2007 </option>
	<option value='/yuiblog/blog/2007/11/'> November 2007 </option>
	<option value='/yuiblog/blog/2007/10/'> October 2007 </option>
	<option value='/yuiblog/blog/2007/09/'> September 2007 </option>
	<option value='/yuiblog/blog/2007/08/'> August 2007 </option>
	<option value='/yuiblog/blog/2007/07/'> July 2007 </option>
	<option value='/yuiblog/blog/2007/06/'> June 2007 </option>
	<option value='/yuiblog/blog/2007/05/'> May 2007 </option>
	<option value='/yuiblog/blog/2007/04/'> April 2007 </option>
	<option value='/yuiblog/blog/2007/03/'> March 2007 </option>
	<option value='/yuiblog/blog/2007/02/'> February 2007 </option>
	<option value='/yuiblog/blog/2007/01/'> January 2007 </option>
	<option value='/yuiblog/blog/2006/12/'> December 2006 </option>
	<option value='/yuiblog/blog/2006/11/'> November 2006 </option>
	<option value='/yuiblog/blog/2006/10/'> October 2006 </option>
	<option value='/yuiblog/blog/2006/09/'> September 2006 </option>
	<option value='/yuiblog/blog/2006/08/'> August 2006 </option>
	<option value='/yuiblog/blog/2006/07/'> July 2006 </option>
	<option value='/yuiblog/blog/2006/06/'> June 2006 </option>
	<option value='/yuiblog/blog/2006/05/'> May 2006 </option>
	<option value='/yuiblog/blog/2006/04/'> April 2006 </option>
	<option value='/yuiblog/blog/2006/03/'> March 2006 </option>
	<option value='/yuiblog/blog/2006/02/'> February 2006 </option>
 </select>
</div></div><div id="categories-2" class="sidebox widget widget_categories"><div class="hd"><h2>Categories</h2></div><div class="bd">		<ul>
	<li class="cat-item cat-item-69"><a href="/yuiblog/blog/category/accessibility/" title="View all posts filed under Accessibility">Accessibility</a> (25)
</li>
	<li class="cat-item cat-item-524"><a href="/yuiblog/blog/category/css-101/" title="View all posts filed under CSS 101">CSS 101</a> (6)
</li>
	<li class="cat-item cat-item-1"><a href="/yuiblog/blog/category/design/" title="This category is for design related posts. For example, all posts about the design pattern library belong here.">Design</a> (51)
</li>
	<li class="cat-item cat-item-2"><a href="/yuiblog/blog/category/development/" title="For development related posts, including all posts about the Yahoo! User Interface Library.">Development</a> (550)
</li>
	<li class="cat-item cat-item-219"><a href="/yuiblog/blog/category/frontend-engineering-jobs-at-yahoo/" title="View all posts filed under Frontend Jobs at Yahoo">Frontend Jobs at Yahoo</a> (13)
</li>
	<li class="cat-item cat-item-96"><a href="/yuiblog/blog/category/graded-browser-support/" title="View all posts filed under Graded Browser Support">Graded Browser Support</a> (5)
</li>
	<li class="cat-item cat-item-11"><a href="/yuiblog/blog/category/in-the-wild/" title="In which we mention and link to third-party tutorials, discussions, comments, feedback, and implementations.">In the Wild</a> (63)
</li>
	<li class="cat-item cat-item-403"><a href="/yuiblog/blog/category/miscellany/" title="View all posts filed under Miscellany">Miscellany</a> (10)
</li>
	<li class="cat-item cat-item-483"><a href="/yuiblog/blog/category/open-hours/" title="View all posts filed under Open Hours">Open Hours</a> (44)
</li>
	<li class="cat-item cat-item-13"><a href="/yuiblog/blog/category/performance/" title="View all posts filed under Performance">Performance</a> (23)
</li>
	<li class="cat-item cat-item-598"><a href="/yuiblog/blog/category/releases/" title="View all posts filed under Releases">Releases</a> (13)
</li>
	<li class="cat-item cat-item-592"><a href="/yuiblog/blog/category/target-environments/" title="View all posts filed under Target Environments">Target Environments</a> (2)
</li>
	<li class="cat-item cat-item-292"><a href="/yuiblog/blog/category/yui-3-gallery/" title="View all posts filed under YUI 3 Gallery">YUI 3 Gallery</a> (29)
</li>
	<li class="cat-item cat-item-286"><a href="/yuiblog/blog/category/yui-events/" title="View all posts filed under YUI Events">YUI Events</a> (45)
</li>
	<li class="cat-item cat-item-8"><a href="/yuiblog/blog/category/yui-implementations/" title="View all posts filed under YUI Implementations">YUI Implementations</a> (55)
</li>
	<li class="cat-item cat-item-9"><a href="/yuiblog/blog/category/yui-theater/" title="View all posts filed under YUI Theater">YUI Theater</a> (146)
</li>
	<li class="cat-item cat-item-595"><a href="/yuiblog/blog/category/yui-weekly/" title="View all posts filed under YUI Weekly">YUI Weekly</a> (18)
</li>
		</ul>
</div></div><div id="meta-2" class="sidebox widget widget_meta"><div class="hd"><h2>Meta</h2></div><div class="bd">			<ul>
						<li><a href="/yuiblog/blog/wp-login.php">Log in</a></li>
			<li><a href="/yuiblog/blog/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="/yuiblog/blog/comments/feed/" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>
						</ul>
</div></div>
</div></div>
		</div><!-- /#bd -->
		<div id="ft">
			<footer>
				<div class="copyright">
			&copy; 2012 YUI Blog				</div>
			</footer></div></div><!-- /#doc -->

	<script type="text/javascript" language="JavaScript">
//<![CDATA[
var wpdone;
function wpvisit()
{
  var z;
  z="&r="+escape(document.referrer);
  z=z+"&b="+escape(navigator.appName+" "+navigator.appVersion);
  w=parseFloat(navigator.appVersion);
  if (w > 2.0) {
    z=z+"&s="+screen.width+"x"+screen.height;
    z=z+"&o="+navigator.platform;
    v="1.2";
    if (navigator.appName != "Netscape") {
      z=z+"&c="+screen.colorDepth;
    } else {
      z=z+"&c="+screen.pixelDepth
    }
    z=z+"&j="+navigator.javaEnabled();
  } else {
    v=1.0;
  }
  z=z+"&v="+v;

  document.writeln("<img border=\"0\" src=\"http://visit.webhosting.yahoo.com/wisit.gif"+"/blog/"+"?"+z+"\" />");
}
  wpvisit();
//]]>
</script>

<noscript><img src="http://visit.webhosting.yahoo.com/wisit.gif?1355817875" border="0" width="1" height="1" alt="visit" /></noscript>	
	<!-- Don't forget analytics -->

	<script src="http://yuilibrary.com/combo/hoverable-min.js"></script>

        <!-- Minified main.js from yuilibrary.com, with 'search' module requirement removed. -->
        <script>(function(){var b=navigator.userAgent,c="",a="";if(/windows/i.test(b)){a="pc";c="win"}else{if(/macintosh/i.test(b)){a="mac";c="osx"}else{if(/ios/i.test(b)){c="ios";if(/(?:iphone|ipod)/i.test(b)){a="iphone mac"}else{if(/ipad/i.test(b)){a="ipad mac"}}}else{if(/linux/i.test(b)){if(/android/i.test(b)){a="android pc"}else{a="pc"}c="linux"}}}}document.documentElement.className+=" "+a+" "+c}());YUI().use("hoverable",function(b){var a=new b.Hoverable({hoverClass:"nav-tab-hover",srcNode:"#main-nav"})});
        </script>
	<script src="http://yuilibrary.com/vendor/prettify/prettify-min.js"></script>
	<script>prettyPrint();</script>

	<script>
	(function() { /***
		var ga = document.createElement('script'); ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		***/
	}());
	</script>
	
</body></html>