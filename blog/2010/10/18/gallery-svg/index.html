<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <meta name="viewport" content="width=960" id="meta-viewport">
    <script>
    if (screen.width < 768) {
        document.getElementById('meta-viewport').setAttribute('content', 'width=768');
    }
    </script>



	<title>In the YUI 3 Gallery: Extensions for SVG, Created for SVG Wow!</title>

	<link rel="shortcut icon" href="/yuiblog/favicon.ico" type="image/x-icon" />

	<!-- IMPORT: yuilibrary.com -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic">
	<link rel="stylesheet" type="text/css" href="/yuiblog/vendor/yui/cssgrids-min.css">
	<link rel="stylesheet" type="text/css" href="/yuiblog/combo/main-min.css">
	<link rel="stylesheet" type="text/css" href="/yuiblog/vendor/prettify/prettify-min.css">
	<link rel="stylesheet" type="text/css" href="/yuiblog/css/docs-min.css">

	<link rel="stylesheet" href="/yuiblog/css/blog.css" type="text/css" />


    <!-- GOOGLE ANALYTICS SCRIPT.
        When changing themes, be sure to copy/paste this script from this theme to the new theme.
    -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-34018865-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

<style>
        /* Site Header */
        #hd {
            padding: 25px 20px 20px;
        }
        #hd .site-header {
            display: flex;
            align-items: center;
        }
        #hd .site-brand {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        #hd .site-logo img {
            height: 52px;
            width: auto;
        }
        #hd .site-title {
            margin: 0;
            font-size: 32px;
            color: #30418C;
            line-height: 1.2;
            letter-spacing: normal;
        }
        #hd .site-title a {
            color: inherit;
            text-decoration: none;
        }
        #hd .site-tagline {
            margin: 5px 0 0;
            font-size: 15px;
            color: #666;
            letter-spacing: normal;
        }
    </style>
</head>

<body class="single single-post postid-5469 single-format-standard yui3-skin-sam">

	<div id="doc">
	      <div id="hd" class="yui3-g">
            <div class="site-header">
                <div class="site-brand">
                    <a href="/yuiblog/" class="site-logo"><img src="https://clarle.github.io/yui3/img/yui-logo-2x.png" alt="YUI"></a>
                    <div>
                        <h1 class="site-title"><a href="/yuiblog/">YUI Blog</a></h1>
                        <p class="site-tagline">A Historical Archive (2006-2014)</p>
                    </div>
                </div>
            </div>
        </div>
		<div id="bd" class="clearfix yui3-g">

		<div class="yui3-u-3-4" class="post-5469 post type-post status-publish format-standard hentry category-development category-performance" id="post-5469">

			<div class="content">


				<ul class="breadcrumbs">
                    <li class="front_page"><a href="//yuilibrary.com/">YUI</a></li>
                    <li><a href="/yuiblog/">Blog</a></li>
                    <li><a href="/yuiblog/blog/category/development/">Development</a></li>
                    <li class="current">In the YUI 3 Gallery: Extensions for SVG, Created for SVG Wow!</li></ul>
				<h1 class="yui3-u-7-8">In the YUI 3 Gallery: Extensions for SVG, Created for SVG Wow!</h1>

				<div class="entry yui3-u-1">
					<div class="meta">
    <img src="https://www.gravatar.com/avatar/d011327f5a3d4f1dc4215968e2bfd524?s=32"> <div class="cont"><a href="http://developer.yahoo.com/yui/" class="name">By Vincent Hardy</a><span class="date">October 18, 2010<span></div></div>

<div class="blog" id="blog-content">
	<h3>Introduction</h3>
	<p> SVG (<a href="http://www.w3.org/svg/" title="W3C SVG Working Group">Scalable Vector Graphics</a>) provides a declarative syntax for interactive, animated 2D graphics: shapes, images and text. SVG support is <a href="http://www.w3.org/TR/html5/Overview.html#svg-0">part of</a> the <a href="http://www.w3.org/TR/html5/">HTML 5</a> specification and SVG is implemented by all major browsers, including Microsoft's Internet Explorer in <a href="http://ie.microsoft.com/testdrive/">version 9</a>. <p> The <a href="http://svg-wow.org">svg-wow.org</a> web site showcases what can be done with SVG today. The demos on this web site were created for the <a href="http://svgopen.org">SVG Open</a> conference, where the SVG Wow! sessions have been a tradition for several years. The SVG Wow! sessions were started by Dean Jackson, then in collaboration with myself and then continued by <a href="http://my.opera.com/MacDev_ed/blog/">Erik Dahlstrom</a>. Erik and I have collorated on the session for the <a href="http://www.svgopen.org/2009/keynotes.shtml">2009</a> and <a href="http://www.svgopen.org/2010/registration.php?section=keynotes">2010</a> editions of the conference. <p> For the past two years, the demos have increasingly used AJAX frameworks, applying their features to SVG instead of (or in addition to) HTML. <a href="http://developer.yahoo.com/yui/" title="YUI Library">YUI</a> is the most widely used framework on the web site, which uses both <a href="http://developer.yahoo.com/yui/2/" title="YUI 2 — Yahoo! User Interface Library">YUI 2</a> and <a href="http://developer.yahoo.com/yui/3/" title="YUI 3 — Yahoo! User Interface Library">YUI 3</a>. <p> I'll start with a quick SVG overview and then discuss the type of demos that YUI supported and <a href="http://yuilibrary.com/gallery/show/svg" title="YUI Library :: Gallery :: YUI SVG Extensions">the extensions I've added to the YUI 3 Gallery</a> to make it work with SVG. (These extensions are now free to use under the terms of <a href="http://developer.yahoo.com/yui/license.html" title="YUI Software License">YUI's BSD license</a>.) <h3>SVG overview</h3>
	<p> Like HTML, SVG is a W3C specification. It provides a syntax for describing basic shapes (rectangles, circles, lines, polygons, ellipses, polylines), arbitrary shapes (described in terms of path segments which can be lines, quadratic or cubic Bezier curves), text and images. <p> The following image is a screen capture of the <a href="http://svgwow.org/blog/2010/08/14/alternate-stylesheets" title="SVG Wow!">alternate stylesheet example on svg-wow.org</a> and shows some SVG features at play: rich rendering (shadow effects, gradients, patterns) and simple and complex shapes. <a href="http://svgwow.org/blog/2010/08/14/alternate-stylesheets/"><img src="/blog-archive/assets/hardy-svg/framed-alternate-stylesheet.png" width="450px" /></a><p> Because SVG images are defined in terms of geometry and rendering attributes, it is possible to render them at any resolution. As a result, SVG images can be scaled to any size while retaining a high rendering quality, for example when printing (no more jagged edges). <p> The following zoomed-in view shows the same SVG image shown earlier but rendered at a higher resolution while preserving the high quality. <a href="http://svgwow.org/blog/2010/08/14/alternate-stylesheets/"><img src="/blog-archive/assets/hardy-svg/framed-alternate-stylesheet-zoomed.png" width="450px" /></a><p> Just like HTML, SVG supports interactivity: it is possible to add event listeners on graphic objects for mouse or keyboard interactions. Of course, SVG supports the Document Object Model, which makes it easy to manipulate the different properties of graphical objects, such as their geometry or rendering style. <p> There is a lot to the SVG specification: advanced rendering styles (stroking, filling, patterns, gradients), filter effects (blurs, shadows, color matrices), CSS styling, advanced text features (such as text on a path) and declarative animation. You can check out the references at the end of this post to learn more about the SVG format features. <h3>SVG and HTML</h3>
	<p> With <a href="http://en.wikipedia.org/wiki/HTML5" title="HTML5 - Wikipedia, the free encyclopedia">HTML5</a>, SVG can be inlined in HTML documents without further ado. Browsers are starting to support that feature (e.g., <a href="http://www.mozilla.com/firefox/beta/" title="Firefox 4 Beta">Firefox 4</a>). For the time being, all major browsers support SVG inlined in XHTML, which provides the same functionality. SVG in XHTML just requires that namespaces are properly declared. <pre>
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
    &lt;head&gt;
        ....
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Inline SVG&lt;/h1&gt;

        &lt;svg xmlns="http://www.w3.org/2000/svg" version="1.1"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         width="100%" height="100%" id="backgroundSVG"&gt;
            &lt;!-- svg content here --&gt;
        &lt;/svg&gt;
    &lt;/body&gt;
&lt;/html&gt;
        </pre><p>All the <a href="http://svg-wow.org/yui-animations/svg-animate.xhtml">code samples</a> on this page use this way of inlining SVG in XHTML.<h3>SVG and YUI</h3>
	<p> SVG supports declarative animation. For example, you can animate the radius of a <code>&lt;circle&gt;</code> element like this: <pre>
&lt;circle cx="50" cy="100" r="40"&gt;
    &lt;animate attributeName="r" values="40,60,20,40" dur="1.5s" /&gt;
&lt;/circle&gt;
       </pre><p> The <code>&lt;animate&gt;</code> tag is borrowed from the <a href="http://www.w3.org/TR/SMIL2/">SMIL</a> specification and, along with the other animation elements, it provides a very powerful animation engine to SVG. <p> Unfortunately, until recently, browser support for SVG animation was sparse. It has improved over the past two years, but Microsoft <a href="http://ie.microsoft.com/testdrive/info/ReleaseNotes/Default.html">has made it clear</a> it will not support declarative SVG animation in IE 9. <p> As a result, most of the demos on the svg-wow.org web site use scripted animation instead of declarative animations. On one hand, this is unfortunate because declarative animations are more efficient than scripted animations. On the upside, scripted animations can be very flexible, and they work across implementations very well. <p> The need for a good scripted animation solution is what drove the usage of YUI on the <a href="http://svg-wow.org">svg-wow</a> demos. However, the demos also use other YUI features, in particular the <a href="http://developer.yahoo.com/yui/3/yui/#loader">Loader</a> and <a href="http://developer.yahoo.com/yui/3/node/">Node</a> modules.<h4>Animating SVG with YUI</h4>
	<p> The demos on <a href="http://svg-wow.org">svg-wow</a> use YUI to create <a href="http://svg-wow.org/blog/2009/10/04/animated-lyrics/">elastic drum beats</a>, <a href="http://svg-wow.org/blog/2010/10/05/gandhi-quotes/">morphing shapes</a> or <a href="http://svg-wow.org/blog/2010/08/14/camera/">rotating text and shapes</a> for example. Using YUI with SVG required a few YUI extensions; I'll describe these in just a moment. <table>
			<tr>
				<td><a href="http://svg-wow.org/blog/2010/08/14/camera/"><img src="/blog-archive/assets/hardy-svg/framed-camera.png" width="200px" /></a></td>
				<td><a href="http://svg-wow.org/blog/2010/10/05/gandhi-quotes/"><img src="/blog-archive/assets/hardy-svg/framed-gandhi-quotes_poster.png" width="200px" /></a></td> </tr>
			<tr>
				<td><a href="http://svg-wow.org/blog/2010/08/14/camera/">rotating text and shapes</a></td>
				<td><a href="http://svg-wow.org/blog/2010/10/05/gandhi-quotes/">morphing shapes</a></td> </tr>
			<tr>
				<td><a href="http://svg-wow.org/blog/2009/10/04/animated-lyrics/"><img src="/blog-archive/assets/hardy-svg/framed-elastic-drums.png" width="200px" /></a></td> </tr>
			<tr>
				<td><a href="http://svg-wow.org/blog/2009/10/04/animated-lyrics/">elastic drum beats</a></td> </tr> </table> <p> The following illustrates how YUI comes in handy to simply animate and manipulate SVG graphics. <h5>Animating the SVG <code>transform</code> attribute</h5>
	<p> All SVG graphical elements have a <a href="http://www.w3.org/TR/SVG/coords.html#TransformAttribute"><code>transform</code></a> attribute. That attribute specifies a 2D <a href="http://en.wikipedia.org/wiki/Transformation_matrix#Affine_transformations">affine transformation</a> on elements, which can be used to scale, skew, rotate or translate. <p> The svg-wow.org YUI extensions for SVG allow animating the <code>transform</code> attribute like this: <pre>
var anim = new Y.Animate({
    node: '#circleA',
    from: {
        transform: {tx: 0, ty: 0, sx: 2, sy: 2}
    },
    to: {
        transform: {tx: 20, ty: 20, sx: 1, sy: 1}
    },
    transformTemplate: "translate(#tx, #ty) scale(#sx, #sy)",
    duration: 1
});
        </pre><p> See the <a href="http://svg-wow.org/yui-animations/svg-animate.xhtml#transform-animations">transform animations</a> tests. <p> You'll note that the transform values are defined in terms of "components" (such as <code>tx</code> or <code>ty</code>) which are combined to form a value using the <code>transformTemplate</code> found on the animation configuration object. <p> The template is a flexible mechanism for building transform values while separate components make it easy to compute the animated values. This is an example where the YUI animation model allowed more flexibility (and more expressive power) than SVG's SMIL animation element (<a href="http://www.w3.org/TR/SVG/animate.html#AnimateTransformElement"><code>animateTransform</code></a>). In order to create the animation described above, the equivalent SMIL declaration would have been: <pre>
&lt;circle ...&gt;
    &lt;animateTransform attributeName="transform" type="translate"
                      from="0,0" to="20,20" dur="1s" begin="scaleAnim.begin"/&gt;
    &lt;animateTransform id="scaleAnim" attributeName="transform" type="scale"
                      from="2,2" to="1,1"  dur="1s" begin="indefinite"/&gt;
&lt;/circle&gt;
        </pre><p> Note how the above snippet requires multiple <code>animateTransform</code> elements which have to be synchronized: the <code>begin</code> attribute of the first animation is set to <code>scaleAnim.begin</code> to synchronize the start of the two animations. A nice feature of the YUI animation engine is that the timing of an animation (i.e., start, end and duration) can be shared to apply to multiple element properties. <p> The YUI extension for animating SVG transforms is used extensively, such as in the <a href="http://svg-wow.org/blog/2010/08/14/camera/">camera</a> and <a href="http://svg-wow.org/blog/2009/10/04/animated-lyrics/">animated lyrics</a> examples. The former uses an extension of YUI 3 while the latter uses an extension of YUI 2. <h5>Animating geometry</h5>
	<h6>Basic Geometry</h6>
	<p> Animating SVG geometry with YUI is quite simple. The following example animates a <code>&lt;rect&gt;</code> element's width, height and corner radii: <pre>
var anim = new Y.Animate({
    node: '#rectA',
    from: {
        width: 200,
        height: 100,
        rx: 5,
        ry: 5
    },
    to: {
        width: 300,
        height: 100,
        rx: 10,
        ry: 10;
    },
    duration: 2,
    easing: Y.Easing.elasticOut
});
        </pre><p> See the <a href="http://svg-wow.org/yui-animations/svg-animate.xhtml#shape-animations">shape animations</a> tests. <p> As discussed later on, some changes under the YUI hood made this work. But from a developer's perspective, this animation works the exact same way as the animation of any other HTML attribute or CSS property. <h6>The <code>&lt;path&gt;</code>'s <code>d</code> attribute</h6>
	<p> One geometry attribute is a little special: the <a href="http://www.w3.org/TR/SVG/paths.html#DAttribute"><code>d</code></a> attribute on the <a href="http://www.w3.org/TR/SVG/paths.html#PathElement"><code>&lt;path&gt;</code></a> element. The <code>&lt;path&gt;</code> element is used for arbitrarily complex geometry. A <code>&lt;path&gt;</code> can describe any shape. Its <code>d</code> attribute describes its geometry in terms of path segments which can be lines, arcs, quadratic or cubic <a href="http://en.wikipedia.org/wiki/Bezier_curves">Bezier curves</a> (there are a few more commands, but they all map to Bezier curves). <p> Animating the <code>d</code> attribute also required a bit of extension to YUI's animation engine, but with that extension, the <code>d</code> attribute can be animated like any other, as shown below. <pre>
var anim = new Y.Animate({
    node: "#pathA",
    from: {d: "M 0 0 C 50 0 100 50 100 100 C 50 100 0 50 0 0 Z"},
    to: {d: "M 0 0 C 100 0 100 0 100 100 C 0 100 0 100 0 0 Z"},
    duration 1s,
    easing: Y.Easing.bounceBack
});
        </pre><p> See the <a href="http://svg-wow.org/yui-animations/svg-animate.xhtml#path-animations">paths animations</a> tests, which shows, among other things, a check mark morphing into a cross over time, as represented in the following images. <p><img src="/blog-archive/assets/hardy-svg/framed-morphing-shapes.png" width="450px" /><p>The <a href="http://svg-wow.org/blog/2010/10/05/gandhi-quotes/">Gandhi quotes</a> demo uses this technique of animating the <code>d</code> attribute to morph shapes into Gandhi's figure.<h5>Animating other SVG attributes</h5>
	<p> Of course, the YUI animations are not limited to geometry attributes. Any SVG attribute can be animated. For example, the following animation animates the blur radius on a horizontal blur filter. <pre>
// SVG snippet
&lt;filter ..
    &lt;feGaussianBlur id="blurFilter" stdDeviation="10 10" ... /&gt;
&lt;/filter&gt;

// JavaScript animation
var anim = new Y.Animate({
    node: '#blurFilter',
    from: {stdDeviation: [0, 20]},
    to: {stdDeviation: [0, 0]}
});
        </pre><p> See the <a href="http://svg-wow.org/yui-animations/svg-animate.xhtml#filter-animations">filter animations</a> tests. The following image shows how animating a Gaussian blur can be used to transition between button states. <p><img src="/blog-archive/assets/hardy-svg/framed-filter-effect.png" width="450px" /><p>This type of effect is used in the <a href="http://svg-wow.org/blog/2009/10/04/fast-blur/">fast blur effect</a> demo, even though that demo does not use YUI animation but declarative SMIL animation elements (at the expense of only running in browsers supporting that feature, as explained earlier). <h5>Animating CSS properties</h5>
	<p> Like HTML, SVG elements have attributes and also CSS properties. SVG has some <a href="http://www.w3.org/TR/SVG/styling.html#SVGStylingProperties">specific CSS properties</a>. These properties can be animated, sometimes to create surprising effects. For example, the <a href="http://svg-wow.org/blog/2010/10/05/gandhi-quotes/"><code>stroke-dashoffset</code></a> property can be used to simulate drawing a shape. <pre>
// SVG snippet
&lt;rect id="rectA" width="100" height="50" stroke-dasharray="300 300" stroke-dashoffset="300" /&gt;

// JavaScript
var anim = new Y.Animate({
    node: "#rectA",
    to: {'stroke-dashoffset': 0},
    duration: 0.25
});
        </pre><p> See the <a href="http://svg-wow.org/yui-animations/svg-animate.xhtml#stroke-animations">stroke animations</a> tests. <p> The <a href="http://svg-wow.org/blog/2010/09/06/graffitis/">graffitis</a> demo uses this technique (even though without YUI animation) and so does the <a href="http://svg-wow.org/blog/2010/08/14/camera/">camera</a> demo (this time with YUI animation). <p><a href="http://svg-wow.org/blog/2010/09/06/graffitis/"><img src="/blog-archive/assets/hardy-svg/framed-graffitis.png" width="450px" /></a><h3>YUI and SVG: Under the hood</h3>
	<p> The svg-wow.org web site uses both YUI 2 and YUI 3 and has SVG-specific extensions for both. The following section of this article focuses on the YUI 3 extensions. <p> Extensions were needed to: <ul>
			<li>make YUI work with SVG's DOM specificities<li>account for implementation differences<li>add support for new attribute types such as SVG transforms<li>add additional animation timing and synchronization features</ul> <h4>Accounting for SVG DOM Specificities</h4>
	<p>As described earlier, SVG attributes can be animated with declarative elements such as <code>&lt;animate&gt;</code>. To support SVG's animation model, SVG attribute values hold both an <em>animated</em> and a <em>base</em> value. For example, the <code>r</code> attribute on a <a href="http://www.w3.org/TR/SVG/shapes.html#InterfaceSVGCircleElement"><code>&lt;circle&gt;</code></a> element is an <code><a href="http://www.w3.org/TR/SVG/types.html#InterfaceSVGAnimatedLength">SVGAnimatedLength</a></code> defined as follows: <pre>
interface SVGAnimatedLength {
  readonly attribute SVGLength baseVal;
  readonly attribute SVGLength animVal;
};
</pre><p> As a result, even in implementations that do not support declarative animation, we need to reach down to the <code>baseVal</code> to read an attribute's value: <pre>
var circle = document.getElementById('#myCircle');
var rValue = circle.getAttribute('r').baseVal.value;

</pre><p> Extensions were needed to allow the animation engine to account for the SVG attributes' unusual value model. Thankfully, YUI 3 has a concept of animation <em>behaviors</em>. Behaviors are essentially attribute-specific hooks, and it was fairly easy to add support to handle SVG attribute values. For example, <code>SVGAnimatedLength</code> attributes are handled like so: <pre>
var lengthBehavior = {
    set: function (anim, att, from, to, elapsed, duration, fun) {
        // SVG specific handling
    },

    get: function (anim, attr) {
        // SVG specific handling
    }
};

// Handle &lt;circle&gt;'s r attribute
Y.Animate.behaviors.r = lengthBehavior;
</pre><p> There are more extensions for other SVG attributes values such as the <code>transform</code> attribute, color attribute values (like <code>fill</code>, <code>stroke</code> or <code>stop-color</code>) and attributes such as <code>stdDeviation</code> mentioned earlier. <p> A few similar tweaks were required, for example in the <code>Y.Node.prototype.toString</code> method, again to account for SVG's <code>baseVal</code> (this time on the <code>className</code> node property). Another example is the default node setter in the <code>Node</code> module. <h4>Accounting for browser differences</h4>
	<p> While the previous extensions are required because of specification differences between HTML and SVG, the following are required because of implementation variations between browsers. <p> SVG has a special category of attributes called <a href="http://www.w3.org/TR/SVG/styling.html#UsingPresentationAttributes"> presentation attributes</a>. In implementations also supporting CSS styling (which all browsers support), these presentation attributes are really just another way to specify a CSS property with a low <a href="http://www.w3.org/TR/CSS2/cascade.html#specificity">specificity</a>. From the SVG specification: <blockquote>
			<p> The presentation attributes thus will participate in the CSS2 cascade as if they were replaced by corresponding CSS style rules placed at the start of the author style sheet with a specificity of zero. In general, this means that the presentation attributes have lower priority than other CSS style rules specified in author style sheets or 'style' attributes.</blockquote> <p> Unfortunately, some browsers do not implement the specification correctly and <code>window.getComputedStyle</code> does not always account for all possible sources for setting the SVG CSS properties: CSS selectors, style attribute and presentation attributes. <p> YUI came to the rescue thanks to the <code>Node</code> module which could be extended to hide these browser differences. The <code>Y.DOM.CUSTOM_STYLES</code> and the <code>Y.Node.prototype.getComputedStyle</code> could be extended to offer a uniform way to read SVG style properties. <h4>Extending <code>Y.DOM</code></h4>
	<p> YUI wraps all DOM access through the <code>Node</code> interface. As a result, some SVG specific DOM methods, such as <code>getBBox</code> (used to compute the bounds of an SVG element), are not accessible on the wrapped object. <p> To make things easier to program for SVG, extensions to the default Y.DOM module (which <code>Node</code> uses) were added to either expose SVG DOM features or add convenience methods, commonly needed when manipulating content: <ul>
			<li><code>firstElement/lastElement/prevElement/nextElement/removeAllChildren</code> (not SVG specific)<li><code>getMatrix/setMatrix</code>. Provides an easy way to manipulate transforms on SVG elements, something notoriously difficult with the standard SVG DOM<li><code>getBBox/getViewportBBox</code> provide simple ways to access bounding box in the element's coordinate system or in viewport space.<li><code>loadContent</code>. A utility to insert a DOM fragment described using a JavaScript object literal. For example: <pre>
myNode.loadContent({
    tag: 'g',
    fill: 'red',
    stroke: 'none',
    children: [{
        tag: "rect",
        x: 10,
        y: 10,
        width: 200,
        height: 300
    }, {
        tag: 'circle',
        r: 10,
        cx: 105,
        cy: 155
    }, {
        tag: 'image',
        'xlink:href': 'images/photo.png',
        width: 200,
        height: '300px'
    }, prevSibling);
        </pre><p> is a shorthand for making various DOM calls (such as <code>createElementNS</code>, <code>setAttributeNS</code> and <code>appendChild</code>) to create a <code>g</code> element and its children and inserting it before <code>prevSibling</code> under <code>myNode</code>. The utility deals with namespaces for attributes and elements. </ul> <h4>Additions to the Animation engine for timing and synchronization</h4>
	<p> Many, if not most effects involving animation require multiple choreographed animation instances. Typically, several animations are required to create a desired effect, and the start or end of animations depend on each other, sometimes with a time offset: animations need to be synchronized. <p>For example, if you have a set of shapes which need to fade in one after the other, you will need to create a fade animation for each element and then chain their start time with a slight offset. <pre>
var chained = Y.all('#chained circle'),
    firstAnim, previousAnim;

chained.each(function (circle) {
    var anim = new Y.Animate({
        node: circle,
        from: {'fill': 'white'},
        to: {'fill': 'gray'},
        duration: 0.25
    });
    if (previousAnim !== undefined) {
        // Synchrnoize the start of anim to be 0.15 seconds after the begining
        // of the previous circle's animation (previousAnim).
        previousAnim.onBegin(anim, 0.15);
    } else {
        firstAnim = anim;
    }
    previousAnim = anim;
});

// Start the first animation 1s after a click on any of the circles.
// Note that this is an extension to the default YUI run method which does not
// take a time offset.
chained.on('click', function () {
    firstAnim.run(1);
});
</pre><p> See the <a href="http://svg-wow.org/yui-animations/svg-animate.xhtml#time-offsets">time offsets</a> tests. <p> The method <code>onBegin</code> makes it easy to synchronize the start of two animations, with an optional time offset. Actually, <code>onBegin</code> can also invoke a function with a time offset. Likewise, the <code>onEnd</code> extension makes it easy to synchronize with the end of an animation. <p> By default, YUI animations have events which provide a way to synchronize. The <code>onBegin</code> and <code>onEnd</code> methods express the synchronization more concisely (a similar example of conciseness is shown below). <p> In addition, it is sometime necessary to synchronize an animation with an event, again with a time offset. The <code>beginOn</code> and <code>endOn</code> extensions allow us to express that. For example: <pre>
anim.beginOn(Y.one('#button'), 'click', 0.5);
</pre><p>will start the animation 0.5s after the element with id 'button' was clicked. This is a short-hand for:<pre>
Y.one('#button').on('click', function () {
    setTimeout(500 /* ms */, function () {anim.run();});
});
</pre><p> A final extension made to the animation class was the ability to make an animation object apply its first frame's state before it was actually started. This is often needed when creating animation effects involving multiple animations which start at different time offsets. <pre>
var anim = new Y.Animate({
    node: Y.one('#button'),
    from: {r: 30, 'fill-opacity': 0, color: 'crimson'},
    to: {r: 80, 'fill-opacity': 1, color: 'gold'},
    duration: 0.25
});

// the following will set the desired state on the target object prior to
// actually starting the animation.
anim.applyStartFrame();
anim.run(2);
</pre><p>The <a href="http://svg-wow.org/blog/2010/09/18/picture-shuffle/">picture shuffle</a> demo uses animation offsets for the effect that spreads the stack of pictures or puts the pictures back in a stack.<p><a href="http://svgwow.org/blog/2010/09/18/picture-shuffle/"><img src="/blog-archive/assets/hardy-svg/framed-picture-shuffle_poster.png" width="450px" /></a><h3>Conclusion</h3>
	<p> Working with SVG and YUI, and in particular YUI 3, has been a very enjoyable experience: a lot of the YUI functionality applies to SVG right out of the box and YUI's extensible architecture made it possible to work around occasional issues and to add desired functionality. <p> Of course, increased standard support for SVG in YUI would be helpful, in particular making YUI work with stand alone SVG documents and making the <code>Node</code> class wrap SVG elements without workarounds. <p> There are also a few enhancements that would be helpful. For example, it would help if animations could target multiple elements. Likewise, supporting multiple values (as in the <a href="http://www.w3.org/TR/SVG/animate.html#AnimateElement"><code>&lt;animate&gt;</code></a> SVG element for example) would be helpful to create more sophisticated effects. <p> The demos on svg-wow.org were written for YUI 3.1 and ported to 3.2 for the purpose of this blog. In 3.2, <a href="http://developer.yahoo.com/yui/3/transition/">transitions</a> were introduced which make use of native <a href="http://www.w3.org/TR/css3-transitions/">CSS transitions</a> if available in the browser. It might be possible for the YUI animation engine to similarly leverage SMIL animation where available (Opera, Firefox and WebKit at the time of this writing) which should also yield performance improvements. <p> The <a href="http://yuilibrary.com/gallery/show/svg" title="YUI Library :: Gallery :: YUI SVG Extensions">SVG extensions on the svg-wow.org web site are available as a YUI 3 Gallery module</a> for those who want to enjoy the fun of working with YUI and SVG. <h3>References</h3>
	<ul>
		<li><a href="http://svg-wow.org">SVG Wow!</a><li><a href="http://www.w3.org/TR/SVG/">SVG Specification</a><li><a href="http://www.w3schools.com/svg/default.asp">SVG Tutorial</a><li><a href="http://www.adobe.com/svg/">Adobe's SVG Zone</a>(a little dated, but still has good examples)<li><a href="http://www.carto.net/papers/svg/samples/">carto.net examples</a><li><a href="http://www.kevlindev.com/tutorials/basics/index.htm">KevLinDev</a></ul> </div>



	<div class="navigation">
		<div class="next-posts"></div>
		<div class="prev-posts"></div>
	</div>


			</div>
		</div>
    </div>




<div id="sidebar" class="yui3-u-1-4"><div class="liner">

        <div id="archives-3" class="sidebox widget widget_archive"><div class="hd"><h2>Archives</h2></div><div class="bd">		<select name="archive-dropdown" onchange='document.location.href=this.options[this.selectedIndex].value;'>
			<option value="">Select Month</option>

				<option value='/yuiblog/blog/2014/08/'> August 2014 </option>
	<option value='/yuiblog/blog/2014/06/'> June 2014 </option>
	<option value='/yuiblog/blog/2014/05/'> May 2014 </option>
	<option value='/yuiblog/blog/2014/04/'> April 2014 </option>
	<option value='/yuiblog/blog/2014/03/'> March 2014 </option>
	<option value='/yuiblog/blog/2014/02/'> February 2014 </option>
	<option value='/yuiblog/blog/2014/01/'> January 2014 </option>
	<option value='/yuiblog/blog/2013/12/'> December 2013 </option>
	<option value='/yuiblog/blog/2013/11/'> November 2013 </option>
	<option value='/yuiblog/blog/2013/10/'> October 2013 </option>
	<option value='/yuiblog/blog/2013/09/'> September 2013 </option>
	<option value='/yuiblog/blog/2013/08/'> August 2013 </option>
	<option value='/yuiblog/blog/2013/07/'> July 2013 </option>
	<option value='/yuiblog/blog/2013/06/'> June 2013 </option>
	<option value='/yuiblog/blog/2013/05/'> May 2013 </option>
	<option value='/yuiblog/blog/2013/04/'> April 2013 </option>
	<option value='/yuiblog/blog/2013/03/'> March 2013 </option>
	<option value='/yuiblog/blog/2013/02/'> February 2013 </option>
	<option value='/yuiblog/blog/2013/01/'> January 2013 </option>
	<option value='/yuiblog/blog/2012/12/'> December 2012 </option>
	<option value='/yuiblog/blog/2012/11/'> November 2012 </option>
	<option value='/yuiblog/blog/2012/10/'> October 2012 </option>
	<option value='/yuiblog/blog/2012/09/'> September 2012 </option>
	<option value='/yuiblog/blog/2012/08/'> August 2012 </option>
	<option value='/yuiblog/blog/2012/07/'> July 2012 </option>
	<option value='/yuiblog/blog/2012/06/'> June 2012 </option>
	<option value='/yuiblog/blog/2012/05/'> May 2012 </option>
	<option value='/yuiblog/blog/2012/04/'> April 2012 </option>
	<option value='/yuiblog/blog/2012/03/'> March 2012 </option>
	<option value='/yuiblog/blog/2012/02/'> February 2012 </option>
	<option value='/yuiblog/blog/2012/01/'> January 2012 </option>
	<option value='/yuiblog/blog/2011/12/'> December 2011 </option>
	<option value='/yuiblog/blog/2011/11/'> November 2011 </option>
	<option value='/yuiblog/blog/2011/10/'> October 2011 </option>
	<option value='/yuiblog/blog/2011/09/'> September 2011 </option>
	<option value='/yuiblog/blog/2011/08/'> August 2011 </option>
	<option value='/yuiblog/blog/2011/07/'> July 2011 </option>
	<option value='/yuiblog/blog/2011/06/'> June 2011 </option>
	<option value='/yuiblog/blog/2011/05/'> May 2011 </option>
	<option value='/yuiblog/blog/2011/04/'> April 2011 </option>
	<option value='/yuiblog/blog/2011/03/'> March 2011 </option>
	<option value='/yuiblog/blog/2011/02/'> February 2011 </option>
	<option value='/yuiblog/blog/2011/01/'> January 2011 </option>
	<option value='/yuiblog/blog/2010/12/'> December 2010 </option>
	<option value='/yuiblog/blog/2010/11/'> November 2010 </option>
	<option value='/yuiblog/blog/2010/10/'> October 2010 </option>
	<option value='/yuiblog/blog/2010/09/'> September 2010 </option>
	<option value='/yuiblog/blog/2010/08/'> August 2010 </option>
	<option value='/yuiblog/blog/2010/07/'> July 2010 </option>
	<option value='/yuiblog/blog/2010/06/'> June 2010 </option>
	<option value='/yuiblog/blog/2010/05/'> May 2010 </option>
	<option value='/yuiblog/blog/2010/04/'> April 2010 </option>
	<option value='/yuiblog/blog/2010/03/'> March 2010 </option>
	<option value='/yuiblog/blog/2010/02/'> February 2010 </option>
	<option value='/yuiblog/blog/2010/01/'> January 2010 </option>
	<option value='/yuiblog/blog/2009/12/'> December 2009 </option>
	<option value='/yuiblog/blog/2009/11/'> November 2009 </option>
	<option value='/yuiblog/blog/2009/10/'> October 2009 </option>
	<option value='/yuiblog/blog/2009/09/'> September 2009 </option>
	<option value='/yuiblog/blog/2009/08/'> August 2009 </option>
	<option value='/yuiblog/blog/2009/07/'> July 2009 </option>
	<option value='/yuiblog/blog/2009/06/'> June 2009 </option>
	<option value='/yuiblog/blog/2009/05/'> May 2009 </option>
	<option value='/yuiblog/blog/2009/04/'> April 2009 </option>
	<option value='/yuiblog/blog/2009/03/'> March 2009 </option>
	<option value='/yuiblog/blog/2009/02/'> February 2009 </option>
	<option value='/yuiblog/blog/2009/01/'> January 2009 </option>
	<option value='/yuiblog/blog/2008/12/'> December 2008 </option>
	<option value='/yuiblog/blog/2008/11/'> November 2008 </option>
	<option value='/yuiblog/blog/2008/10/'> October 2008 </option>
	<option value='/yuiblog/blog/2008/09/'> September 2008 </option>
	<option value='/yuiblog/blog/2008/08/'> August 2008 </option>
	<option value='/yuiblog/blog/2008/07/'> July 2008 </option>
	<option value='/yuiblog/blog/2008/06/'> June 2008 </option>
	<option value='/yuiblog/blog/2008/05/'> May 2008 </option>
	<option value='/yuiblog/blog/2008/04/'> April 2008 </option>
	<option value='/yuiblog/blog/2008/03/'> March 2008 </option>
	<option value='/yuiblog/blog/2008/02/'> February 2008 </option>
	<option value='/yuiblog/blog/2008/01/'> January 2008 </option>
	<option value='/yuiblog/blog/2007/12/'> December 2007 </option>
	<option value='/yuiblog/blog/2007/11/'> November 2007 </option>
	<option value='/yuiblog/blog/2007/10/'> October 2007 </option>
	<option value='/yuiblog/blog/2007/09/'> September 2007 </option>
	<option value='/yuiblog/blog/2007/08/'> August 2007 </option>
	<option value='/yuiblog/blog/2007/07/'> July 2007 </option>
	<option value='/yuiblog/blog/2007/06/'> June 2007 </option>
	<option value='/yuiblog/blog/2007/05/'> May 2007 </option>
	<option value='/yuiblog/blog/2007/04/'> April 2007 </option>
	<option value='/yuiblog/blog/2007/03/'> March 2007 </option>
	<option value='/yuiblog/blog/2007/02/'> February 2007 </option>
	<option value='/yuiblog/blog/2007/01/'> January 2007 </option>
	<option value='/yuiblog/blog/2006/12/'> December 2006 </option>
	<option value='/yuiblog/blog/2006/11/'> November 2006 </option>
	<option value='/yuiblog/blog/2006/10/'> October 2006 </option>
	<option value='/yuiblog/blog/2006/09/'> September 2006 </option>
	<option value='/yuiblog/blog/2006/08/'> August 2006 </option>
	<option value='/yuiblog/blog/2006/07/'> July 2006 </option>
	<option value='/yuiblog/blog/2006/06/'> June 2006 </option>
	<option value='/yuiblog/blog/2006/05/'> May 2006 </option>
	<option value='/yuiblog/blog/2006/04/'> April 2006 </option>
	<option value='/yuiblog/blog/2006/03/'> March 2006 </option>
	<option value='/yuiblog/blog/2006/02/'> February 2006 </option>
		</select>
</div></div><div id="categories-2" class="sidebox widget widget_categories"><div class="hd"><h2>Categories</h2></div><div class="bd">		<ul>
	<li class="cat-item cat-item-69"><a href="/yuiblog/blog/category/accessibility/" >Accessibility</a> (25)
</li>
	<li class="cat-item cat-item-524"><a href="/yuiblog/blog/category/css-101/" >CSS 101</a> (8)
</li>
	<li class="cat-item cat-item-1"><a href="/yuiblog/blog/category/design/" title="This category is for design related posts. For example, all posts about the design pattern library belong here.">Design</a> (51)
</li>
	<li class="cat-item cat-item-2"><a href="/yuiblog/blog/category/development/" title="For development related posts, including all posts about the Yahoo! User Interface Library.">Development</a> (653)
</li>
	<li class="cat-item cat-item-219"><a href="/yuiblog/blog/category/frontend-engineering-jobs-at-yahoo/" >Frontend Jobs at Yahoo</a> (13)
</li>
	<li class="cat-item cat-item-96"><a href="/yuiblog/blog/category/graded-browser-support/" >Graded Browser Support</a> (8)
</li>
	<li class="cat-item cat-item-11"><a href="/yuiblog/blog/category/in-the-wild/" title="In which we mention and link to third-party tutorials, discussions, comments, feedback, and implementations.">In the Wild</a> (63)
</li>
	<li class="cat-item cat-item-403"><a href="/yuiblog/blog/category/miscellany/" >Miscellany</a> (13)
</li>
	<li class="cat-item cat-item-483"><a href="/yuiblog/blog/category/open-hours/" >Open Hours</a> (44)
</li>
	<li class="cat-item cat-item-13"><a href="/yuiblog/blog/category/performance/" >Performance</a> (23)
</li>
	<li class="cat-item cat-item-598"><a href="/yuiblog/blog/category/releases/" >Releases</a> (50)
</li>
	<li class="cat-item cat-item-592"><a href="/yuiblog/blog/category/target-environments/" >Target Environments</a> (11)
</li>
	<li class="cat-item cat-item-599"><a href="/yuiblog/blog/category/yeti-development/" >Yeti</a> (5)
</li>
	<li class="cat-item cat-item-292"><a href="/yuiblog/blog/category/yui-3-gallery/" >YUI 3 Gallery</a> (34)
</li>
	<li class="cat-item cat-item-286"><a href="/yuiblog/blog/category/yui-events/" >YUI Events</a> (48)
</li>
	<li class="cat-item cat-item-8"><a href="/yuiblog/blog/category/yui-implementations/" >YUI Implementations</a> (55)
</li>
	<li class="cat-item cat-item-9"><a href="/yuiblog/blog/category/yui-theater/" >YUI Theater</a> (164)
</li>
	<li class="cat-item cat-item-595"><a href="/yuiblog/blog/category/yui-weekly/" >YUI Weekly</a> (76)
</li>
	<li class="cat-item cat-item-602"><a href="/yuiblog/blog/category/yui-conf/" title="Posts pertaining to YUIConf - videos, notices, updates.">YUIConf</a> (27)
</li>
		</ul>
</div></div>

</div></div>
		</div><!-- /#bd -->
		<div id="ft">
			<footer>
				<div class="copyright">
			&copy; 2014 YUI Blog				</div>
			</footer></div></div><!-- /#doc -->

</body>
</html>
